var iGuider;!function(J){"use strict";var i={init:function(e){var i,r,t,o={tourID:"anyTourID",tourTitle:"Tour Title Default",tourSubtitle:"Tour Subtitle Default",startStep:1,overlayClickable:!0,overlayColor:"#000",overlayOpacity:.5,pagination:!0,registerMissingElements:!0,textDirection:"ltr",shape:0,shapeBorderRadius:5,width:320,bgColor:!1,titleColor:!1,modalContentColor:!1,modalTypeColor:!1,paginationColor:!1,timerColor:!1,btnColor:!1,btnHoverColor:!1,spacing:10,loc:!1,timer:!1,timerType:"line",keyboard:!0,keyboardEvent:!1,intro:{enable:!0,title:"Welcome to the interactive tour",content:"This tour will tell you about the main site functionalities",cover:"",overlayColor:!1,overlayOpacity:!1,width:!1,bgColor:!1,titleColor:!1,modalContentColor:!1,modalTypeColor:!1,btnColor:!1,btnHoverColor:!1},continue:{enable:!0,title:"Continue the unfinished tour?",content:'Click "Continue" to start with step on which finished last time.',cover:"",overlayColor:!1,overlayOpacity:!1,width:!1,bgColor:!1,titleColor:!1,modalContentColor:!1,modalTypeColor:!1,btnColor:!1,btnHoverColor:!1},tourMap:{enable:!0,position:"right",clickable:!0,open:!1,bgColor:!1,titleColor:!1,btnColor:!1,btnHoverColor:!1,itemColor:!1,itemHoverColor:!1,itemActiveColor:!1,itemActiveBg:!1,itemNumColor:!1,checkColor:!1,checkReadyColor:!1},steps:[{cover:"",title:"New Step Title",content:"New Step Description",position:"auto",target:"uniqueName",disable:!1,overlayOpacity:.5,overlayColor:"#000",spacing:10,shape:0,shapeBorderRadius:5,timer:!1,event:"next",eventMessage:"Follow the required conditions to continue.",skip:!1,nextText:"Next",prevText:"Prev",trigger:!1,stepID:"",waitElementTime:0,loc:!1,ready:!1,width:320,autofocus:!0,bgColor:!1,titleColor:!1,modalContentColor:!1,paginationColor:!1,timerColor:!1,btnColor:!1,btnHoverColor:!1,keyboardEvent:!1,checkNext:{func:function(){return!0},messageError:"Fulfill all conditions!"},checkPrev:{func:function(){return!0},messageError:"Fulfill all conditions!"},before:function(e){},during:function(e){},after:function(e){},delayBefore:0,delayAfter:0}],lang:{cancelTitle:"Cancel Tour",cancelText:"×",hideText:"Hide Tour Map",tourMapText:"≡",tourMapTitle:"Tour Map",nextTextDefault:"Next",prevTextDefault:"Prev",endText:"End Tour",contDialogBtnBegin:"Start over",contDialogBtnContinue:"Continue",introDialogBtnStart:"Start",introDialogBtnCancel:"Cancel",modalIntroType:"Tour Intro",modalContinueType:"Unfinished Tour"},create:function(){},start:function(){},progress:function(e){},end:function(){},abort:function(){},finish:function(){},play:function(){},pause:function(){},modalTemplate:'<div class="gWidget"><div class="gCover">[modal-cover]</div><div class="gAction"><span class="gType">[modal-type]</span><span class="gBtn">[modal-map]</span><span class="gBtn">[modal-close]</span><div class="gTimer">[modal-timer]</div></div><div class="gScroll"><div class="gHeader">[modal-header]</div><div class="gContent">[modal-body]</div></div><div class="gFooter"><span class="gPage"><span class="gPageVal">[step-value]</span><span class="gPageTotal">[step-total]</span></span><span class="gBtn">[modal-prev]</span><span class="gBtn">[modal-next]</span><span class="gBtn">[modal-cancel]</span><span class="gBtn">[modal-start]</span><span class="gBtn">[modal-begin-first]</span><span class="gBtn">[modal-begin-continue]</span></div></div>',mapTemplate:'<div class="g-map-pos"><div class="gMapAction"><span class="gBtn">[map-toggle]</span><span class="gBtn">[map-hide]</span></div><div class="gMapHeader">[map-header]</div><span class="gPage"><span class="gPageVal">[step-value]</span><span class="gPageTotal">[step-total]</span></span><div class="gMapContent">[map-content]</div><div class="gMapBufer"></div></div>',debug:!1};if(J.iGuider||(J.iGuider={}),i=J.fn.attr,J.fn.attr=function(){if(0!==arguments.length)return i.apply(this,arguments);if(0===this.length)return null;var e={};return J.each(this[0].attributes,function(){this.specified&&(e[this.name]=this.value)}),e},J.iGuider.opt)console.log("Warning! \nDetected re-initialization of plugin. Check the code calling the plugin!");else{var k,G=!1,H=[],d=function(){};J.iGuider.opt={},e&&(J.extend(o.lang,e.lang),J.extend(o.intro,e.intro),J.extend(o.continue,e.continue),J.extend(o.tourMap,e.tourMap),J.extend(e.lang,o.lang),J.extend(e.intro,o.intro),J.extend(e.continue,o.continue),J.extend(e.tourMap,o.tourMap),o.stepsDef=o.steps,e.steps&&e.steps.length?o.steps=e.steps:o.steps=!1,e.modalTemplate&&""!=J.trim(e.modalTemplate)?o.modalTemplate=e.modalTemplate:o.modalTemplate=!1,e.mapTemplate&&""!=J.trim(e.mapTemplate)?o.mapTemplate=e.mapTemplate:o.mapTemplate=!1,J.extend(o,e)),J.extend(J.iGuider.opt,o),J.iGuider.opt.startStep=parseFloat(J.iGuider.opt.startStep),J.iGuider.opt.overlayOpacity=parseFloat(J.iGuider.opt.overlayOpacity),J.iGuider.opt.intro.overlayOpacity=parseFloat(J.iGuider.opt.intro.overlayOpacity),J.iGuider.opt.continue.overlayOpacity=parseFloat(J.iGuider.opt.continue.overlayOpacity);var a=function(){J.iGuider.opt.intro.overlayColor=J.iGuider.opt.overlayColor},u=function(){J.iGuider.opt.continue.overlayColor=J.iGuider.opt.overlayColor},n=function(){J.iGuider.opt.intro.overlayOpacity=J.iGuider.opt.overlayOpacity},l=function(){J.iGuider.opt.continue.overlayOpacity=J.iGuider.opt.overlayOpacity};J.iGuider.opt.overlayColor&&(e.intro&&e.intro.overlayColor||a(),e.continue&&e.continue.overlayColor||u()),-1<J.iGuider.opt.overlayOpacity&&(e.intro&&(e.intro.overlayOpacity||0===e.intro.overlayOpacity)||n(),e.continue&&(e.continue.overlayOpacity||0===e.continue.overlayOpacity)||l()),J.iGuiderLang&&J.extend(J.iGuider.opt.lang,J.iGuiderLang),J.iGuider.v={},J.iGuider.v.scrollDoc=J("html,body");var s=J.iGuider.opt.mapTemplate?J(J.iGuider.opt.mapTemplate):J(mapTpl);J.iGuider.v.gMapPos=s.addClass("g-map-pos-"+J.iGuider.opt.tourMap.position).appendTo("body"),J.iGuider.v.stepTimerId=function(){},J.iGuider.v.delayAfterId=function(){},J.iGuider.v.delayBeforeId=function(){},J.iGuider.v.duration=300,J.iGuider.v.sTop={},J.iGuider.v.sBot={},J.iGuider.v.sLeft={},J.iGuider.v.sRight={},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,i){window.setTimeout(e,1e3/60)},J.iGuider.v.easeOutQuad=function(e,i,r,t){return parseFloat(-r*(e/=t)*(e-2))+parseFloat(i)};var v=(r=window.navigator.userAgent,0<(t=r.indexOf("MSIE"))?parseInt(r.substring(t+5,r.indexOf(".",t))):navigator.userAgent.match(/Trident\/7\./)?11:0);if(0<v){if(!(11<=v))return console.log('The plugin "iGuider" does not support this version of the browser!'),!1;if("file:"==window.location.protocol)return console.log('Some plugin functions "localStorage" is not available on local files (using the file: protocol) for this browser!'),!1}J.iGuider.v.debug=function(e){J.iGuider.opt.debug&&console.log(e)};var c=function(){J("html").removeClass("g-preloader")};J.iGuider.v.gLoader=J('<div class="g-loader"><div class="g-loader-b"></div><div class="g-loader-s"></div></div>'),J.iGuider.v.gLoader.appendTo("body");var p=2*Math.PI*21;J.iGuider.v.progressCircleTimer=function(e){var i=p*(1-e/100);J.iGuider.v.progressValue.style.strokeDashoffset=i},J.iGuider.v.correctColor=function(e){if(-1!==e.search("gradient")||-1!==e.search("rgba"))return e;var i=new function(e){this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var r in i)e==r&&(e=i[r]);for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],o=0;o<t.length;o++){var d=t[o].re,a=t[o].process,u=d.exec(e);if(u){var n=a(u);this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),i=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),1==r.length&&(r="0"+r),"#"+e+i+r}}(e);return i.ok?i.toHex():void 0},J.iGuider.v.hexToRGBA=function(e,i){var r;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3==(r=e.substring(1).split("")).length&&(r=[r[0],r[0],r[1],r[1],r[2],r[2]]),"rgba("+[(r="0x"+r.join(""))>>16&255,r>>8&255,255&r].join(",")+","+i+")"},J.iGuider.v.hexToRGBCODE=function(e){var i;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3==(i=e.substring(1).split("")).length&&(i=[i[0],i[0],i[1],i[1],i[2],i[2]]),[(i="0x"+i.join(""))>>16&255,i>>8&255,255&i]},J.iGuider.v.clearSavePar=function(){H=[]},J.iGuider.v.createOverlayLayer=function(){if(J.iGuider.v.tCanvas.tColor&&-1<J.iGuider.v.tCanvas.tOpacity)if(G){var e=J.iGuider.v.hexToRGBCODE(J.iGuider.v.tCanvas.tColor);J.iGuider.v.redrawOverlay(e[0],e[1],e[2],J.iGuider.v.tCanvas.tOpacity)}else G=!0,J("html").addClass("g-show g-event"),J.iGuider.v.ctx.fillStyle=J.iGuider.v.hexToRGBA(J.iGuider.v.tCanvas.tColor,J.iGuider.v.tCanvas.tOpacity),J.iGuider.v.ctx.fillRect(0,0,J.iGuider.v.tCanvas.width,J.iGuider.v.tCanvas.height)},J.iGuider.v.deleteOverlayLayer=function(){G&&(J("html").removeClass("g-show"),J.iGuider.v.shapeRemove(),J("html").removeClass("g-event"),G=!1,J.iGuider.v.ctx.clearRect(0,0,J.iGuider.v.tCanvas.width,J.iGuider.v.tCanvas.height),J(".g-active").removeClass("g-active"),J.iGuider.v.clearSavePar())},J.iGuider.v.redrawOverlay=function(e,i,r,t){G&&(J.iGuider.v.ctx.clearRect(0,0,J.iGuider.v.tCanvas.width,J.iGuider.v.tCanvas.height),J.iGuider.v.ctx.fillStyle="rgba("+e+","+i+","+r+","+t+")",J.iGuider.v.ctx.fillRect(0,0,J.iGuider.v.tCanvas.width,J.iGuider.v.tCanvas.height))};var m=function(e){e.addClass("g-step-success")};J.iGuider.v.createCanvas=function(){J("#g-overlay-wrap").length?J.iGuider.v.tCanvas=document.getElementById("g-overlay-wrap"):(J.iGuider.v.tCanvas=document.createElement("canvas"),J(J.iGuider.v.tCanvas).appendTo("body"),J.iGuider.v.tCanvas.id="g-overlay-wrap"),J.iGuider.v.ctx=J.iGuider.v.tCanvas.getContext("2d")},J.iGuider.v.setCanvasSize=function(){J.iGuider.v.tCanvas.width=J(window).width(),J.iGuider.v.tCanvas.height=J(window).height(),J.iGuider.v.createOverlayLayer()},J.iGuider.v.delRect=function(e){if(G){for(var i=0;i<e;i++){var r=i,t=H[r].prevX,o=H[r].prevY,d=H[r].prevW,a=H[r].prevH;0===J.iGuider.v.tCanvas.shape&&(J.iGuider.v.ctx.clearRect(t,o,d,a),J.iGuider.v.ctx.fillRect(t,o,d,a)),1==J.iGuider.v.tCanvas.shape&&J.iGuider.v.redrawOverlay(J.iGuider.v.tCanvas.saveColorR,J.iGuider.v.tCanvas.saveColorG,J.iGuider.v.tCanvas.saveColorB,J.iGuider.v.tCanvas.saveOpacity),2==J.iGuider.v.tCanvas.shape&&J.iGuider.v.redrawOverlay(J.iGuider.v.tCanvas.saveColorR,J.iGuider.v.tCanvas.saveColorG,J.iGuider.v.tCanvas.saveColorB,J.iGuider.v.tCanvas.saveOpacity),i==e-1&&(H=[])}J.iGuider.v.shapeRemove()}},J.iGuider.v.start_animate=function(b,w){if(G){cancelAnimationFrame(k);var S=0,I=J.iGuider.v.tCanvas.tDuration/16.666,x=I+1,T=10*J.iGuider.v.tCanvas.saveOpacity,E=10*J.iGuider.v.tCanvas.pathOpacity;J.iGuider.v.tCanvas.draw=function(){var e,i,r,t;J.iGuider.v.tCanvas.changeColor&&J.iGuider&&(e=J.iGuider.v.easeOutQuad(S,J.iGuider.v.tCanvas.saveColorR,J.iGuider.v.tCanvas.pathColorR,x),i=J.iGuider.v.easeOutQuad(S,J.iGuider.v.tCanvas.saveColorG,J.iGuider.v.tCanvas.pathColorG,x),r=J.iGuider.v.easeOutQuad(S,J.iGuider.v.tCanvas.saveColorB,J.iGuider.v.tCanvas.pathColorB,x),t=J.iGuider.v.easeOutQuad(S,T,E,x)/10,J.iGuider.v.redrawOverlay(e,i,r,t)),1==J.iGuider.v.tCanvas.saveShape&&(J.iGuider.v.tCanvas.changeColor?J.iGuider.v.redrawOverlay(e,i,r,t):J.iGuider.v.redrawOverlay(J.iGuider.v.tCanvas.saveColorR,J.iGuider.v.tCanvas.saveColorG,J.iGuider.v.tCanvas.saveColorB,J.iGuider.v.tCanvas.saveOpacity)),2==J.iGuider.v.tCanvas.saveShape&&(J.iGuider.v.tCanvas.changeColor?J.iGuider.v.redrawOverlay(e,i,r,t):J.iGuider.v.redrawOverlay(J.iGuider.v.tCanvas.saveColorR,J.iGuider.v.tCanvas.saveColorG,J.iGuider.v.tCanvas.saveColorB,J.iGuider.v.tCanvas.saveOpacity));for(var o=0;o<b.length;o++){var d=o;H[d]||H.push({});var a=H[d],u=b[d],n=a.prevX||u.x,l=a.prevY||u.y,s=a.prevW||u.width,v=a.prevH||u.height;a.prevBR||u.BR;0===J.iGuider.v.tCanvas.saveShape&&(J.iGuider.v.ctx.clearRect(n,l,s,v),J.iGuider.v.ctx.fillRect(n,l,s,v));var G=J.iGuider.v.easeOutQuad(S,u.saveX,u.pathX,x),c=J.iGuider.v.easeOutQuad(S,u.saveY,u.pathY,x),p=J.iGuider.v.easeOutQuad(S,u.saveW,u.pathW,x),m=J.iGuider.v.easeOutQuad(S,u.saveH,u.pathH,x),g=J.iGuider.v.easeOutQuad(S,u.saveBR,u.pathBR,x);if(0===J.iGuider.v.tCanvas.shape&&J.iGuider.v.ctx.clearRect(G,c,p,m),1==J.iGuider.v.tCanvas.shape){var h=(G+p/2).toFixed(0),f=(c+m/2).toFixed(0),C=(Math.sqrt(p*p+m*m)/2).toFixed(0);J.iGuider.v.ctx.globalCompositeOperation="destination-out",J.iGuider.v.ctx.beginPath(),J.iGuider.v.ctx.arc(h,f,C,0,2*Math.PI),J.iGuider.v.ctx.closePath(),J.iGuider.v.ctx.fillStyle="rgba(0,0,0,1)",J.iGuider.v.ctx.fill(),J.iGuider.v.ctx.globalCompositeOperation="source-over"}2==J.iGuider.v.tCanvas.shape&&(J.iGuider.v.ctx.globalCompositeOperation="destination-out",J.iGuider.v.ctx.fillStyle="rgba(0,0,0,1)",void 0===g&&(g=5),J.iGuider.v.ctx.beginPath(),J.iGuider.v.ctx.moveTo(G+g,c),J.iGuider.v.ctx.lineTo(G+p-g,c),J.iGuider.v.ctx.quadraticCurveTo(G+p,c,G+p,c+g),J.iGuider.v.ctx.lineTo(G+p,c+m-g),J.iGuider.v.ctx.quadraticCurveTo(G+p,c+m,G+p-g,c+m),J.iGuider.v.ctx.lineTo(G+g,c+m),J.iGuider.v.ctx.quadraticCurveTo(G,c+m,G,c+m-g),J.iGuider.v.ctx.lineTo(G,c+g),J.iGuider.v.ctx.quadraticCurveTo(G,c,G+g,c),J.iGuider.v.ctx.closePath(),J.iGuider.v.ctx.fill(),J.iGuider.v.ctx.globalCompositeOperation="source-over"),a.prevX=G,a.prevY=c,a.prevW=p,a.prevH=m,a.saveX=u.x,a.saveY=u.y,a.saveW=u.width,a.saveH=u.height,a.saveBR=u.BR}if(S<I)S++,k=requestAnimFrame(J.iGuider.v.tCanvas.draw);else if(S=0,cancelAnimationFrame(k),J.iGuider.v.tCanvas.saveColor=J.iGuider.v.tCanvas.color,J.iGuider.v.tCanvas.saveColorR=J.iGuider.v.tCanvas.colorR,J.iGuider.v.tCanvas.saveColorG=J.iGuider.v.tCanvas.colorG,J.iGuider.v.tCanvas.saveColorB=J.iGuider.v.tCanvas.colorB,J.iGuider.v.tCanvas.saveOpacity=J.iGuider.v.tCanvas.opacity,J.iGuider.v.tCanvas.saveShape=J.iGuider.v.tCanvas.shape,w)for(var y=0;y<w;y++)H.pop()},J.iGuider.v.tCanvas.draw()}},J.iGuider.v.shapeRemove=function(){J(".g-shape").remove()},J.iGuider.v.searchEl=function(E){if(J.iGuider.v.createOverlayLayer(),G){var k=[],e=J.iGuider.v.tCanvas.tColor,i=J.iGuider.v.hexToRGBCODE(e),r=i[0],t=i[1],o=i[2],d=J.iGuider.v.tCanvas.tOpacity,a=J.iGuider.v.tCanvas.shape,u=J.iGuider.v.tCanvas.saveColor||e,n=J.iGuider.v.tCanvas.saveColorR||r,l=J.iGuider.v.tCanvas.saveColorG||t,s=J.iGuider.v.tCanvas.saveColorB||o,v=0<=J.iGuider.v.tCanvas.saveOpacity?J.iGuider.v.tCanvas.saveOpacity:d;J.iGuider.v.tCanvas.colorR=r,J.iGuider.v.tCanvas.colorG=t,J.iGuider.v.tCanvas.colorB=o,J.iGuider.v.tCanvas.saveColor=u,J.iGuider.v.tCanvas.saveColorR=n,J.iGuider.v.tCanvas.saveColorG=l,J.iGuider.v.tCanvas.saveColorB=s,J.iGuider.v.tCanvas.saveShape=J.iGuider.v.tCanvas.saveShape||a,J.iGuider.v.tCanvas.saveOpacity=v,J.iGuider.v.tCanvas.pathColorR=r-n,J.iGuider.v.tCanvas.pathColorG=t-l,J.iGuider.v.tCanvas.pathColorB=o-s,J.iGuider.v.tCanvas.pathOpacity=d-v,J.iGuider.v.tCanvas.saveColor!=J.iGuider.v.tCanvas.color||J.iGuider.v.tCanvas.saveOpacity!=J.iGuider.v.tCanvas.opacity?J.iGuider.v.tCanvas.changeColor=!0:J.iGuider.v.tCanvas.changeColor=!1,J.iGuider.v.shapeRemove(),E.each(function(e){var i=e,r=J(this),t=r.outerWidth(),o=r.outerHeight(),d=(r.offset().left-J(window).scrollLeft()).toFixed(0),a=(r.offset().top-J(window).scrollTop()).toFixed(0),u=J.iGuider.v.tCanvas.tMargin,n=t+2*u,l=o+2*u,s=d-u,v=a-u,G=l<n?l/2:n/2,c=J.iGuider.v.tCanvas.shapeBorderRadius,p=r.offset().left-u,m=r.offset().top-u,g=n,h=l,f=0;2==J.iGuider.v.tCanvas.shape&&(c=f=G<c?G:c),r.is("body")&&(l=n=u=0,s=J(window).width()/2,v=J(window).height()/2),H[i]||H.push({});var C=H[i].saveX||s,y=H[i].saveY||v,b=H[i].saveW||n,w=H[i].saveH||l,S=H[i].saveBR||c;if(k.push({width:n,height:l,x:s,y:v,BR:c,saveX:C,saveY:y,saveW:b,saveH:w,saveBR:S,pathX:s-C,pathY:v-y,pathW:n-b,pathH:l-w,pathBR:c-S,prevX:H[i].prevX||s,prevY:H[i].prevY||v,prevW:H[i].prevW||n,prevH:H[i].prevH||l,prevBR:H[i].prevBR||c}),e==E.length-1&&J.iGuider.v.setEmpty(H,k),1==J.iGuider.v.tCanvas.shape){var I=Math.sqrt(g*g+h*h)/2;p-=I-g/2,m-=I-h/2,h=g=2*I,f="50%"}var x=m-J(window).scrollTop(),T=p-J(window).scrollLeft();J("<div>").addClass("g-shape").css({left:T,top:x,width:g,height:h,borderRadius:f}).appendTo("body")}),E.length||J.iGuider.v.delRect(H.length)}},J.iGuider.v.fixStepNumVal=function(e){return e&&(-1<e.overlayOpacity&&(e.overlayOpacity=parseFloat(e.overlayOpacity)),-1<e.spacing&&(e.spacing=parseFloat(e.spacing)),-1<e.shape&&(e.shape=parseFloat(e.shape)),-1<e.shapeBorderRadius&&(e.shapeBorderRadius=parseFloat(e.shapeBorderRadius)),-1<e.waitElementTime&&(e.waitElementTime=parseFloat(e.waitElementTime))),e},J.iGuider.v.setEmpty=function(e,i){var r=e.length,t=i.length;if(t<r)for(var o=t-1,d=r-t,a=JSON.stringify(i[o]),u=JSON.parse(a),n=0;n<r;n++){var l=n;t-1<l&&(i[l]=u,i[l].saveX=e[l].saveX,i[l].saveY=e[l].saveY,i[l].saveW=e[l].saveW,i[l].saveH=e[l].saveH,i[l].prevX=e[l].prevX,i[l].prevY=e[l].prevY,i[l].prevW=e[l].prevW,i[l].prevH=e[l].prevH,i[l].pathX=i[l].x-e[l].saveX,i[l].pathY=i[l].y-e[l].saveY,i[l].pathW=i[l].width-e[l].saveW,i[l].pathH=i[l].height-e[l].saveH,l==r-1&&J.iGuider.v.start_animate(i,d))}else t?J.iGuider.v.start_animate(i):J.iGuider.v.delRect(e.length)},J.iGuider.v.setCanvasDefault=function(){J.iGuider.v.tCanvas.def={tOpacity:-1<J.iGuider.opt.overlayOpacity?J.iGuider.opt.overlayOpacity:.5,tColor:J.iGuider.opt.overlayColor||"#000",tMargin:-1<parseFloat(J.iGuider.opt.spacing)?parseFloat(J.iGuider.opt.spacing):10,tDuration:300,shape:-1<parseFloat(J.iGuider.opt.shape)?parseFloat(J.iGuider.opt.shape):0,shapeBorderRadius:-1<parseFloat(J.iGuider.opt.shapeBorderRadius)?parseFloat(J.iGuider.opt.shapeBorderRadius):5},J.iGuider.v.tCanvas.startOpt={tOpacity:1.1,tColor:"#0000",tMargin:10,tDuration:300,shape:0,shapeBorderRadius:4},J.iGuider.v.tCanvas.tOpacity=J.iGuider.v.tCanvas.def.tOpacity,J.iGuider.v.tCanvas.tColor=J.iGuider.v.tCanvas.def.tColor,J.iGuider.v.tCanvas.tMargin=J.iGuider.v.tCanvas.def.tMargin,J.iGuider.v.tCanvas.tDuration=J.iGuider.v.tCanvas.def.tDuration,J.iGuider.v.tCanvas.shape=J.iGuider.v.tCanvas.def.shape,J.iGuider.v.tCanvas.shapeBorderRadius=J.iGuider.v.tCanvas.def.shapeBorderRadius},J.iGuider.v.tIni=function(){J.iGuider.v.createCanvas(),J.iGuider.v.setCanvasSize(),J.iGuider.v.setCanvasDefault()},J.iGuider.v.tIni(),J.iGuider.v.tourid="",J.iGuider.opt.tourTitle&&(J.iGuider.v.tourid=J.iGuider.opt.tourTitle,J.iGuider.v.gMapHeader=J("<div>").addClass("g-map-header").html(J.iGuider.opt.tourTitle).appendTo(J(":contains([map-header])",s).last().empty())),J.iGuider.v.gMapContent=J("<div>").addClass("g-map-content").appendTo(J(":contains([map-content])",s).last().empty());var g=[],h=0,f=0,C=location.href,y=function(e){e.loc||(e.loc=J.iGuider.opt.loc||C),void 0===e.keyboardEvent&&(e.keyboardEvent=J.iGuider.opt.keyboardEvent),parseFloat(e.timer)||(!1===e.timer||0===e.timer||"0"===e.timer?e.timer=!1:0<parseFloat(J.iGuider.opt.timer)?e.timer=J.iGuider.opt.timer:e.timer=!1),g.push(e);var i=e.title?e.title:"№"+(h+1),r=J('<div data-hindex="'+h+'" class="g-step-item" data-title="'+i+'"><span class="g-step-item-text">'+i+"</span></div>").appendTo(J.iGuider.v.gMapContent);e.ready&&m(r),h++},b=function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")};if(J.iGuider.opt.steps&&J.iGuider.opt.steps.length){for(var w=0;w<J.iGuider.opt.steps.length;w++){if(!J.iGuider.opt.steps[w].skip){var S=J.iGuider.opt.steps[w];if(J.iGuider.opt.registerMissingElements||"center"==S.position)y(S);else(J(S.target).length?J(S.target):J('[data-target ="'+S.target+'"]')).length&&y(S)}J.iGuider.v.tourid=J.iGuider.v.tourid+J.iGuider.opt.steps[w].target}J.iGuider.opt.steps=g}var I=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;J.iGuider.v.clickEvent=I?"touchend":"click";var x=!1;I&&(document.ontouchmove=function(e){x=!0},document.ontouchend=function(e){setTimeout(function(){x=!1},100)});var T="mousemove."+J.iGuider.hName,E="mousedown."+J.iGuider.hName,N="mouseup."+J.iGuider.hName;if("ontouchstart"in window&&(T="touchmove."+J.iGuider.hName,E="touchstart."+J.iGuider.hName,N="touchend."+J.iGuider.hName),J.iGuider.v.mousemoveEvent=T,J.iGuider.v.mouseupEvent=N,J.iGuider.v.mousedownEvent=E,!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))try{localStorage.test=2}catch(e){return alert("You are in Privacy Mode\nPlease deactivate Privacy Mode and then reload the page to view the Tour."),J.fn.iGuider("destroy"),!1}var _=0,O=function(e){return"function"==typeof e?typeof e:"boolean"==typeof e?typeof e:"string"==typeof e?typeof e:"number"==typeof e?typeof e:"object"==typeof e?Array.isArray(e)?"array":"object":void 0};J.iGuider.v.toStringObj=function(e){var i=_++,r=e,t={};for(var o in t[i]={},r)if(r.hasOwnProperty(o)){var d=o,a=r[d];if("function"==O(a)&&(t[i][d]=a.toString()),"array"==O(a)){for(var u=a,n=0;n<u.length;n++)if("object"==O(u[n])){var l=u[n],s=J.iGuider.v.toStringObj(l);u[n]=s}t[i][d]=u}if("object"==O(a)){var v=J.iGuider.v.toStringObj(a);t[i][d]=v}"string"!=O(a)&&"number"!=O(a)&&"boolean"!=O(a)||(t[i][d]=r[d])}return t[i]},J.iGuider.v.coneHide=function(){J.iGuider.v.modalPos.addClass("cone-hide")},J.iGuider.v.coneShow=function(){J.iGuider.v.modalPos.removeClass("cone-hide")},J.iGuider.v.selectCallback=function(){!1!==J.iGuider.opt.steps[J.iGuider.v.startIndex].autofocus&&(J(":focus").blur(),J.iGuider.v.targetEl.focus()),J.iGuider.v.messHide(),J.iGuider.v.messEvHide()},J.iGuider.v.posCorrect=function(i,r,t){i||(i=J.iGuider.v.modalPos.attr("data-pos")),r||(r=J.iGuider.v.modalPos.attr("data-cone")),t||(t=J.iGuider.v.modalPos.attr("data-cont"));var e=J(window).width();e-20<J.iGuider.v.modalSize.outerWidth()&&J.iGuider.v.modalSize.css({minWidth:e-20});var o=!1;J.iGuider.v.modalSize.css({marginTop:"",marginLeft:""}),J.iGuider.v.modalPos.css({marginLeft:""});var d,a=J.iGuider.v.modalSize.offset().left+J.iGuider.v.modalSize.width(),u=J(window).height(),n=J.iGuider.v.modalSize.offset().top-J(window).scrollTop(),l=n+J.iGuider.v.modalSize.height();J.iGuider.v.coneShow(),J.iGuider.v.coneCheckHor=function(e){"l"!=i&&"r"!=i||J.iGuider.v.coneHide(),"t"!=i&&"b"!=i||("r"==t&&0<e&&J.iGuider.v.coneHide(),"l"==t&&e<0&&J.iGuider.v.coneHide(),"c"==r&&("c"==t&&(e<0&&e-15<-J.iGuider.v.modalSize.outerWidth()/2&&J.iGuider.v.coneHide(),0<e&&e+15>J.iGuider.v.modalSize.outerWidth()/2&&J.iGuider.v.coneHide()),"r"==t&&e<0&&e-15<-J.iGuider.v.modalSize.outerWidth()&&J.iGuider.v.coneHide(),"l"==t&&0<e&&e+15>J.iGuider.v.modalSize.outerWidth()&&J.iGuider.v.coneHide()),"r"!=r&&"l"!=r||("r"==t&&e<0&&e-15<-J.iGuider.v.modalSize.outerWidth()&&J.iGuider.v.coneHide(),"l"==t&&0<e&&e+15>J.iGuider.v.modalSize.outerWidth()&&J.iGuider.v.coneHide(),"c"==t&&(e<0&&e-15<-J.iGuider.v.modalSize.outerWidth()/2&&J.iGuider.v.coneHide(),0<e&&e+15>J.iGuider.v.modalSize.outerWidth()/2&&J.iGuider.v.coneHide())))},J.iGuider.v.coneCheckVert=function(e){"t"!=i&&"b"!=i||J.iGuider.v.coneHide(),"l"!=i&&"r"!=i||("b"==t&&0<e&&J.iGuider.v.coneHide(),"t"==t&&e<0&&J.iGuider.v.coneHide(),"c"==r&&("c"==t&&(e<0&&e-15<-J.iGuider.v.modalSize.outerHeight()/2&&J.iGuider.v.coneHide(),0<e&&e+15>J.iGuider.v.modalSize.outerHeight()/2&&J.iGuider.v.coneHide()),"b"==t&&e<0&&e-15<-J.iGuider.v.modalSize.outerHeight()&&J.iGuider.v.coneHide(),"t"==t&&0<e&&e+15>J.iGuider.v.modalSize.outerHeight()&&J.iGuider.v.coneHide()),"b"!=r&&"t"!=r||("b"==t&&e<0&&e-15<-J.iGuider.v.modalSize.outerHeight()&&J.iGuider.v.coneHide(),"t"==t&&0<e&&e+15>J.iGuider.v.modalSize.outerHeight()&&J.iGuider.v.coneHide(),"c"==t&&(e<0&&e-15<-J.iGuider.v.modalSize.outerHeight()/2&&J.iGuider.v.coneHide(),0<e&&e+15>J.iGuider.v.modalSize.outerHeight()/2&&J.iGuider.v.coneHide())))},e-10<a&&(o=!0,d=-(a-e+10),J.iGuider.v.modalSize.css({marginLeft:d}),J.iGuider.v.coneCheckHor(d)),J.iGuider.v.modalSize.offset().left<10&&(o=!0,d=10-J.iGuider.v.modalSize.offset().left,J.iGuider.v.modalSize.css({marginLeft:d}),J.iGuider.v.coneCheckHor(d)),u-10<l&&(o=!0,d=-(l-u+10),J.iGuider.v.modalSize.css({marginTop:d}),J.iGuider.v.coneCheckVert(d)),n<10&&(o=!0,d=-1*n+10,J.iGuider.v.modalSize.css({marginTop:d}),J.iGuider.v.coneCheckVert(d)),"c"==i&&"c"==r&&"c"==t&&J.iGuider.v.modalSize.css({marginLeft:""}),J.iGuider.v.modalSize.height()>u-20&&J.iGuider.v.coneHide(),o?J.iGuider.v.modalPos.addClass("g-pos-correct"):J.iGuider.v.modalPos.removeClass("g-pos-correct")},J.iGuider.v.play=function(){if(void 0!==J.iGuider.opt.play)try{new Function("return "+J.iGuider.opt.play)()()}catch(e){J.iGuider.v.debug((new Error).lineNumber+" The callback function specified is not correct.")}},J.iGuider.v.pause=function(){if(void 0!==J.iGuider.opt.pause)try{new Function("return "+J.iGuider.opt.pause)()()}catch(e){J.iGuider.v.debug((new Error).lineNumber+" The callback function specified is not correct.")}},J.iGuider.v.start=function(){if(localStorage.setItem("iGuider_event","start"),void 0!==J.iGuider.opt.start)try{new Function("return "+J.iGuider.opt.start)()()}catch(e){J.iGuider.v.debug((new Error).lineNumber+" The callback function specified is not correct.")}},J.iGuider.v.end=function(){if(localStorage.setItem("iGuider_event","end"),J.iGuider.v.progressFunc(0),void 0!==J.iGuider.opt.end)try{new Function("return "+J.iGuider.opt.end)()()}catch(e){J.iGuider.v.debug((new Error).lineNumber+" The callback function specified is not correct.")}},J.iGuider.v.abort=function(){if(localStorage.setItem("iGuider_event","abort"),localStorage.setItem("iGuider_restored","0"),localStorage.removeItem("iGuider_opt"),localStorage.removeItem("iGuider_step"),void 0!==J.iGuider.opt.abort)try{new Function("return "+J.iGuider.opt.abort)()()}catch(e){J.iGuider.v.debug((new Error).lineNumber+" The callback function specified is not correct.")}},J.iGuider.v.finish=function(){if(localStorage.setItem("iGuider_event","finish"),void 0!==J.iGuider.opt.finish)try{new Function("return "+J.iGuider.opt.finish)()()}catch(e){J.iGuider.v.debug((new Error).lineNumber+" The callback function specified is not correct.")}localStorage.removeItem("iGuider_step"),localStorage.removeItem("iGuider_opt"),localStorage.removeItem("iGuider_data-"+J.iGuider.opt.tourID),localStorage.removeItem("itour_options")},J.iGuider.v.create=function(){if(localStorage.setItem("iGuider_event","create"),void 0!==J.iGuider.opt.create)try{new Function("return "+J.iGuider.opt.create)()()}catch(e){J.iGuider.v.debug((new Error).lineNumber+" The callback function specified is not correct.")}J.iGuider.opt.steps||localStorage.setItem("iGuider_event","no_steps")},J(document).on("keydown.iGuider",function(e){J.iGuider&&(J.iGuider.v.design||J.iGuider.opt.keyboard&&(27==parseFloat(e.keyCode)&&(J.iGuider.v.debug((new Error).lineNumber+" Click  Esc and Destroy"),J.iGuider.v.end(),J.iGuider.v.abort(),J.fn.iGuider("destroy")),39==parseFloat(e.keyCode)&&(J.iGuider.v.debug((new Error).lineNumber+" Click Keyboard Next"),iGuider("next")),37==parseFloat(e.keyCode)&&(J.iGuider.v.debug((new Error).lineNumber+" Click Keyboard Prev"),iGuider("prev")),13==parseFloat(e.keyCode)&&(J.iGuider.v.debug((new Error).lineNumber+" Click Keyboard Enter"),J("html").is(".g-modal-intro-show")&&(J.iGuider.v.debug((new Error).lineNumber+" Click Keyboard Start"),J.iGuider.v.modalStart.addClass("active"),J.iGuider.v.modalStart.trigger("click")),J("html").is(".g-modal-continue-show")&&(J.iGuider.v.debug((new Error).lineNumber+" Click Keyboard Continue"),J.iGuider.v.modalBeginContinue.addClass("active"),J.iGuider.v.modalBeginContinue.trigger("click")))))}),J.iGuider.v.overlayPos=function(e){if(J.iGuider.v.debug((new Error).lineNumber+" Start overlayPos func"),e&&e.length){J.iGuider.v.modalData=[];var O=J(window).width(),B=J(window).height(),F=J(window).scrollTop(),M=J(window).scrollLeft();e.each(function(e){var i,r,t=J(this),o=Math.round(t.outerWidth()),d=Math.round(t.outerHeight()),a=Math.round(t.offset().top),u=Math.round(t.offset().left),n=J.iGuider.opt.steps[J.iGuider.v.startIndex],l=J.trim(n.position).split("");if(J.iGuider.opt.steps){J.iGuider.opt.steps[J.iGuider.v.startIndex].disable?J("html").addClass("g-disable"):J("html").removeClass("g-disable");var s=J.iGuider.v.tCanvas.tMargin,v="",G=J.iGuider.opt.steps[J.iGuider.v.startIndex].width||J.iGuider.opt.width;G&&(v=-1!=(v=(v=G).toString()).search("%")||-1!=v.search("vw")?v.replace("%","vw"):parseFloat(v)),J.iGuider.v.modalSize.css({minWidth:v});var c=J.iGuider.opt.steps[J.iGuider.v.startIndex].bgColor||J.iGuider.opt.bgColor;c?(J.iGuider.v.modalTimerControll.css({background:c}),J.iGuider.v.modalSize.css({background:c}),J.iGuider.v.modalPos.css({color:c})):(J.iGuider.v.modalTimerControll.css({background:""}),J.iGuider.v.modalSize.css({background:""}),J.iGuider.v.modalPos.css({color:""}));var p=J.iGuider.opt.steps[J.iGuider.v.startIndex].titleColor||J.iGuider.opt.titleColor;p?J.iGuider.v.modalHeader.css({color:p}):J.iGuider.v.modalHeader.css({color:""});var m=J.iGuider.opt.steps[J.iGuider.v.startIndex].modalContentColor||J.iGuider.opt.modalContentColor;m?J.iGuider.v.modalBody.css({color:m}):J.iGuider.v.modalBody.css({color:""});var g=J.iGuider.opt.steps[J.iGuider.v.startIndex].paginationColor||J.iGuider.opt.paginationColor;g?(J("#paginationColorStyle").remove(),J('<style id="paginationColorStyle">').html(".g-modal-pos .g-modal-step-value, .g-modal-pos .g-modal-step-total {color:"+g+"}").appendTo("html")):J("#paginationColorStyle").remove();var h=J.iGuider.opt.steps[J.iGuider.v.startIndex].timerColor||J.iGuider.opt.timerColor;h?(J("#timerColorStyle").remove(),J('<style id="timerColorStyle">').html(".g-modal-timer-line .g-modal-timer { background: "+h+"; } .g-progress__value { stroke: "+h+"; }").appendTo("html")):J("#timerColorStyle").remove();var f=J.iGuider.opt.steps[J.iGuider.v.startIndex].btnColor||J.iGuider.opt.btnColor;f?(J("#btnColorStyle").remove(),J('<style id="btnColorStyle">').html(".g-modal-pos .gBtn {color:"+f+"}").appendTo("html")):J("#btnColorStyle").remove();var C=J.iGuider.opt.steps[J.iGuider.v.startIndex].btnHoverColor||J.iGuider.opt.btnHoverColor;C?(J("#btnHoverColorStyle").remove(),J('<style id="btnHoverColorStyle">').html(".g-modal-pos .gBtn:hover {color:"+C+"}").appendTo("html")):J("#btnHoverColorStyle").remove();var y=J.iGuider.opt.tourMap.btnColor||J.iGuider.opt.btnColor;y?(J("#listBtnColorStyle").remove(),J('<style id="listBtnColorStyle">').html(".g-map-pos .gBtn {color:"+y+"}").appendTo("html")):J("#listBtnColorStyle").remove();var b=J.iGuider.opt.tourMap.btnHoverColor||J.iGuider.opt.btnHoverColor;b?(J("#listBtnHoverColorStyle").remove(),J('<style id="listBtnHoverColorStyle">').html(".g-map-pos .gBtn:hover {color:"+b+"}").appendTo("html")):J("#listBtnHoverColorStyle").remove();var w=J.iGuider.opt.tourMap.bgColor||J.iGuider.opt.bgColor;w?J.iGuider.v.gMapPos.css({background:w}):J.iGuider.v.gMapPos.css({background:""});var S=J.iGuider.opt.tourMap.titleColor||J.iGuider.opt.titleColor;S?J.iGuider.v.gMapHeader.css({color:S}):J.iGuider.v.gMapHeader.css({color:""});var I=J.iGuider.opt.tourMap.itemNumColor;I?(J("#itemNumColorStyle").remove(),J('<style id="itemNumColorStyle">').html(".g-step-item:before {color:"+I+"}").appendTo("html")):J("#itemNumColorStyle").remove();var x=J.iGuider.opt.tourMap.itemColor;x?(J("#itemColorStyle").remove(),J('<style id="itemColorStyle">').html(".g-step-item:not(.hCur):not(:hover) {color:"+x+"}").appendTo("html")):J("#itemColorStyle").remove();var T=J.iGuider.opt.tourMap.itemHoverColor;T?(J("#itemHoverColorStyle").remove(),J('<style id="itemHoverColorStyle">').html(".g-step-item:not(.hCur):hover {color:"+T+"}").appendTo("html")):J("#itemHoverColorStyle").remove();var E=J.iGuider.opt.tourMap.itemActiveColor;E?(J("#itemActiveColorStyle").remove(),J('<style id="itemActiveColorStyle">').html(".hCur .g-step-item-text {color:"+E+"}").appendTo("html")):J("#itemActiveColorStyle").remove();var k=J.iGuider.opt.tourMap.itemActiveBg;k?(J("#itemActiveBgStyle").remove(),J('<style id="itemActiveBgStyle">').html(".g-step-item.hCur:before {background:"+k+"}").appendTo("html")):J("#itemActiveBgStyle").remove();var H=J.iGuider.opt.tourMap.checkColor;H?(J("#checkColorStyle").remove(),J('<style id="checkColorStyle">').html(".g-step-item:after {border-color:"+H+"}").appendTo("html")):J("#checkColorStyle").remove();var N=J.iGuider.opt.tourMap.checkReadyColor;N?(J("#checkReadyColorStyle").remove(),J('<style id="checkReadyColorStyle">').html(".g-step-item.g-step-success:after {border-color:"+N+"}").appendTo("html")):J("#checkReadyColorStyle").remove();var _=J.iGuider.opt.tourMap.paginationColor||J.iGuider.opt.paginationColor;_?(J("#checkPaginationColorStyle").remove(),J('<style id="checkPaginationColorStyle">').html(".g-map-pos .g-modal-step-value, .g-map-pos .g-modal-step-total {color:"+_+"}").appendTo("html")):J("#checkPaginationColorStyle").remove(),"center"!=J.iGuider.opt.steps[J.iGuider.v.startIndex].position&&J.iGuider.opt.steps[J.iGuider.v.startIndex].target?((3!=l.length||"t"!=l[0]&&"r"!=l[0]&&"b"!=l[0]&&"l"!=l[0])&&(J.iGuider.opt.steps[J.iGuider.v.startIndex].position="auto"),"auto"==J.iGuider.opt.steps[J.iGuider.v.startIndex].position?(l=[],J.iGuider.v.eTop=a-F,J.iGuider.v.eLeft=u-M,J.iGuider.v.mbw=J.iGuider.v.modalSize.outerWidth(),J.iGuider.v.mbh=J.iGuider.v.modalSize.outerHeight(),J.iGuider.v.sTop.h=J.iGuider.v.eTop-(10+s),J.iGuider.v.sBot.h=B-(J.iGuider.v.eTop+d)-(10+s),J.iGuider.v.sLeft.w=J.iGuider.v.eLeft-(10+s),J.iGuider.v.sRight.w=O-(J.iGuider.v.eLeft+o)-(10+s),J.iGuider.v.sMaxH=J.iGuider.v.sTop.h,J.iGuider.v.sMaxW=J.iGuider.v.sLeft.w,J.iGuider.v.sideTB="t",J.iGuider.v.sideLR="l",J.iGuider.v.sBot.h>J.iGuider.v.sTop.h&&(J.iGuider.v.sMaxH=J.iGuider.v.sBot.h,J.iGuider.v.sideTB="b"),J.iGuider.v.sRight.w>J.iGuider.v.sLeft.w&&(J.iGuider.v.sMaxW=J.iGuider.v.sRight.w,J.iGuider.v.sideLR="r"),J.iGuider.v.sMaxH>J.iGuider.v.mbh?(l[0]=J.iGuider.v.sideTB,l[1]=J.iGuider.v.sideLR,l[2]=J.iGuider.v.sideLR,i="t"==J.iGuider.v.sideTB?J.iGuider.v.eTop-(s+15):J.iGuider.v.eTop+d+s+15,r="l"==J.iGuider.v.sideLR?J.iGuider.v.eLeft-s:J.iGuider.v.eLeft+o+s):J.iGuider.v.sMaxW>J.iGuider.v.mbw?(l[0]=J.iGuider.v.sideLR,l[1]=J.iGuider.v.sideTB,l[2]=J.iGuider.v.sideTB,r="l"==J.iGuider.v.sideLR?J.iGuider.v.eLeft-(s+15):J.iGuider.v.eLeft+o+s+15,i="t"==J.iGuider.v.sideTB?J.iGuider.v.eTop-s:J.iGuider.v.eTop+d+s):(l[0]=J.iGuider.v.sideTB,l[1]=J.iGuider.v.sideLR,l[2]=J.iGuider.v.sideLR,i="t"==J.iGuider.v.sideTB?J.iGuider.v.eTop-(s+15):J.iGuider.v.eTop+d+s+15,r="l"==J.iGuider.v.sideLR?J.iGuider.v.eLeft-s:J.iGuider.v.eLeft+o+s)):("r"==l[0]&&(r=u+s+o+15-J(window).scrollLeft(),"0"),"l"==l[0]&&(r=u-(s+15)-J(window).scrollLeft(),"-100%","0"),"b"==l[0]&&(i=a+s+d-J(window).scrollTop()+15,"0"),"t"==l[0]&&(i=a-(s+15)-J(window).scrollTop(),"-100%","0"),("c"==l[1]&&"r"==l[0]||"c"==l[1]&&"l"==l[0])&&(i=a+d/2-J(window).scrollTop()),"b"==l[1]&&(i=a+d+s-J(window).scrollTop()),"t"==l[1]&&(i=a-s-J(window).scrollTop()),("c"==l[1]&&"b"==l[0]||"c"==l[1]&&"t"==l[0])&&(r=u+o/2-J(window).scrollLeft()),"l"==l[1]&&(r=u-s-J(window).scrollLeft()),"r"==l[1]&&(r=u+o+s-J(window).scrollLeft()))):(l=["c","c","c"],i=r="50%"),0===e&&(J.iGuider.v.modalPos.css({left:r,top:i}).attr({"data-pos":l[0],"data-cone":l[1],"data-cont":l[2]}),J.iGuider.v.contentPos=l),J.iGuider.v.modalPosShow(J.iGuider.v.tCanvas.tDuration),J.iGuider.v.modalPos.stop(!0).css({opacity:0}).show(),J.iGuider.v.debug((new Error).lineNumber+" posCorrect func - 1"),J.iGuider.v.posCorrect(l[0],l[1],l[2]),J.iGuider.v.modalData.push({left:r,top:i,dataPos:l[0],dataCone:l[1],dataCont:l[2]})}else console.log('Parameter "steps" is undefined or empty')}),J.iGuider.v.indexActive=0}},J.iGuider.v.modalNextShow=function(){J("html").addClass("g-modal-next-show"),J("html").removeClass("g-modal-next-hide"),J.iGuider.v.modalNext.html(J.iGuider.opt.steps[J.iGuider.v.startIndex].nextText)},J.iGuider.v.modalNextHide=function(){J("html").addClass("g-modal-next-hide"),J("html").removeClass("g-modal-next-show")},J.iGuider.v.modalPrevShow=function(){J("html").addClass("g-modal-prev-show"),J("html").removeClass("g-modal-prev-hide"),J.iGuider.v.modalPrev.html(J.iGuider.opt.steps[J.iGuider.v.startIndex].prevText)},J.iGuider.v.modalPrevHide=function(){J("html").addClass("g-modal-prev-hide"),J("html").removeClass("g-modal-prev-show")},J.iGuider.v.modalStartShow=function(){J("html").removeClass("g-modal-start-hide")},J.iGuider.v.modalStartHide=function(){J("html").addClass("g-modal-start-hide")},J.iGuider.v.coverShow=function(){J("html").addClass("g-modal-cover-show"),J("html").removeClass("g-modal-cover-hide")},J.iGuider.v.coverHide=function(){J("html").addClass("g-modal-cover-hide"),J("html").removeClass("g-modal-cover-show")},J.iGuider.v.modalStepShow=function(){J("html").addClass("g-modal-step-show"),J("html").removeClass("g-modal-step-hide")},J.iGuider.v.modalStepHide=function(){J("html").removeClass("g-modal-step-show"),J("html").addClass("g-modal-step-hide")},J.iGuider.v.modalContShow=function(){J("html").addClass("g-modal-cont-show"),J("html").removeClass("g-modal-cont-hide")},J.iGuider.v.modalContHide=function(){J("html").removeClass("g-modal-cont-show"),J("html").addClass("g-modal-cont-hide")},J.iGuider.v.modalTitleShow=function(){J("html").addClass("g-modal-title-show"),J("html").removeClass("g-modal-title-hide")},J.iGuider.v.modalTitleHide=function(){J("html").removeClass("g-modal-title-show"),J("html").addClass("g-modal-title-hide")},J.iGuider.v.modalIntroShow=function(){J("html").addClass("g-modal-intro-show"),J("html").removeClass("g-modal-intro-hide")},J.iGuider.v.modalIntroHide=function(){J("html").removeClass("g-modal-intro-show"),J("html").addClass("g-modal-intro-hide")},J.iGuider.v.modalCloseHide=function(){J("html").addClass("g-modal-close-hide"),J("html").removeClass("g-modal-close-show")},J.iGuider.v.modalCloseShow=function(){J("html").removeClass("g-modal-close-hide"),J("html").addClass("g-modal-close-show")},J.iGuider.v.modalMapHide=function(){J("html").addClass("g-modal-map-hide"),J("html").removeClass("g-modal-map-show")},J.iGuider.v.modalMapShow=function(){J("html").removeClass("g-modal-map-hide"),J("html").addClass("g-modal-map-show")},J.iGuider.v.modalContinueShow=function(){J("html").addClass("g-modal-continue-show"),J("html").removeClass("g-modal-continue-hide")},J.iGuider.v.modalContinueHide=function(){J("html").removeClass("g-modal-continue-show"),J("html").addClass("g-modal-continue-hide")},J.iGuider.v.timerShow=function(){J("html").addClass("g-timer-show"),J("html").removeClass("g-timer-hide")},J.iGuider.v.timerHide=function(){J("html").removeClass("g-timer-show"),J("html").addClass("g-timer-hide")},J.iGuider.v.modalPosShowId=function(){},J.iGuider.v.modalPosShow=function(e){J.iGuider.v.debug((new Error).lineNumber+" start modalPosShow func"),clearTimeout(J.iGuider.v.modalPosShowId),J.iGuider.v.modalPos.stop(!0).css({opacity:0}).show(),J.iGuider.v.modalPosShowId=setTimeout(function(){J.iGuider.v.modalPos.stop(!0).animate({opacity:1},300,function(){J.iGuider&&J.iGuider.v.posCorrect()})},e)},J.iGuider.v.modalPosHide=function(e){J.iGuider.v.debug((new Error).lineNumber+" start modalPosHide func"),J.iGuider.v.modalPos.stop(!0).animate({opacity:0},e,function(){J.iGuider.v.modalPos.hide()})},J.iGuider.v.modalPos=J("<div>").addClass("g-modal-pos").appendTo("body"),J.iGuider.v.modalSize=J("<div>").addClass("g-modal-size").appendTo(J.iGuider.v.modalPos);var B=J.iGuider.opt.modalTemplate?J(J.iGuider.opt.modalTemplate):J(modalTpl);B.appendTo(J.iGuider.v.modalSize),J.iGuider.v.modalStart=J(":contains([modal-start])",B).last().empty().addClass("g-modal-start").html(J.iGuider.opt.lang.introDialogBtnStart),J.iGuider.v.modalCloseIntro=J(":contains([modal-cancel])",B).last().empty().addClass("g-modal-close-intro g-modal-close").html(J.iGuider.opt.lang.introDialogBtnCancel),J.iGuider.v.modalBeginFirst=J(":contains([modal-begin-first])",B).last().empty().addClass("g-modal-begin-first").html(J.iGuider.opt.lang.introDialogBtnStart),J.iGuider.v.modalBeginContinue=J(":contains([modal-begin-continue])",B).last().empty().addClass("g-modal-begin-continue").html(J.iGuider.opt.lang.introDialogBtnCancel),"line"==J.iGuider.opt.timerType&&(J.iGuider.v.modalTimer=J("<div>").addClass("g-modal-timer").appendTo(J(":contains([modal-timer])",B).last().empty()),J("html").addClass("g-modal-timer-line")),"circle"==J.iGuider.opt.timerType&&(J.iGuider.v.modalTimer=J("<div>").addClass("g-modal-timer").html('<svg class="g-progress" width="44" height="44" viewBox="0 0 44 44"><circle class="g-progress__meter" cx="22" cy="22" r="21" stroke-width="2" /><circle class="g-progress__value" cx="22" cy="22" r="21" stroke-width="2" /></svg>').appendTo(J(":contains([modal-timer])",B).last().empty()),J("html").addClass("g-modal-timer-circle"),J.iGuider.v.progressValue=document.querySelector(".g-progress__value"),J.iGuider.v.progressValue.style.strokeDasharray=p,J.iGuider.v.progressCircleTimer(0)),J.iGuider.v.modalTimerControll=J("<div>").addClass("g-timer-controll g-timer-pause gBtn").insertAfter(J.iGuider.v.modalTimer),J.iGuider.v.modalImage=J("<div>").addClass("g-modal-cover").appendTo(J(":contains([modal-cover])",B).last().empty()),J.iGuider.v.modalMap=J(":contains([modal-map])",B).last().empty().addClass("g-modal-map").attr("title",J.iGuider.opt.lang.tourMapTitle).html(J.iGuider.opt.lang.tourMapText),J.iGuider.v.tourMapDetect=function(){!0===J.iGuider.opt.tourMap.enable||"true"===J.iGuider.opt.tourMap.enable?J.iGuider.v.modalMapShow():J.iGuider.v.modalMapHide()},J.iGuider.v.tourMapDetect(),J.iGuider.v.modalCloseTour=J(":contains([modal-close])",B).last().empty().addClass("g-modal-close-tour g-modal-close").attr("title",J.iGuider.opt.lang.cancelTitle).html(J.iGuider.opt.lang.cancelText),J.iGuider.v.modalType=J(":contains([modal-type])",B).last().empty().addClass("g-modal-type"),J.iGuider.v.modalCloseShow(),J.iGuider.v.modalHeader=J("<div>").addClass("g-modal-header").appendTo(J(":contains([modal-header])",B).last().empty()),J.iGuider.v.modalBody=J("<div>").addClass("g-modal-body").appendTo(J(":contains([modal-body])",B).last().empty()),J.iGuider.v.modalPrev=J(":contains([modal-prev])",B).last().empty().addClass("g-modal-prev").html(J.iGuider.opt.lang.prevTextDefault),J.iGuider.v.modalNext=J(":contains([modal-next])",B).last().empty().addClass("g-modal-next").html(J.iGuider.opt.lang.nextTextDefault),J.iGuider.v.modalStepValue=[],J.iGuider.v.modalStepTotal=[];var F=function(e,i,r){e.push(J(':contains("'+r+'")',i).filter(function(){return J(this).text()==r}).last().empty())};F(J.iGuider.v.modalStepValue,B,"[step-value]"),F(J.iGuider.v.modalStepValue,s,"[step-value]"),F(J.iGuider.v.modalStepTotal,B,"[step-total]"),F(J.iGuider.v.modalStepTotal,s,"[step-total]"),"rtl"==J.iGuider.opt.textDirection&&(J.iGuider.v.modalSize.addClass("rtl"),J.iGuider.v.gMapPos.addClass("rtl")),J(J.iGuider.v.modalStepTotal).each(function(){J(this).addClass("g-modal-step-total").html(J.iGuider.opt.steps.length)});var M=function(e){parseFloat(J.iGuider.v.startIndex)+1<J.iGuider.opt.steps.length?(J.iGuider.opt.registerMissingElements&&J('[data-hindex="'+J.iGuider.v.startIndex+'"]').addClass("g-el-absent"),"next"===J.iGuider.v.event?J.iGuider.v.startIndex++:J.iGuider.v.startIndex--,J.iGuider.v.event||(J.iGuider.v.event="next"),J.iGuider.v.debug((new Error).lineNumber+' Run "hStep" func - 1'),L()):(console.log("Target is "+e),J.iGuider.v.debug((new Error).lineNumber+" Target is "+e+" (HTML) and Destroy"),J.fn.iGuider("destroy"))};J.iGuider.v.hClose=J(":contains([map-close])",s).last().empty().addClass("g-map-close-tour g-modal-close").html(J.iGuider.opt.lang.cancelTitle),J.iGuider.v.hHide=J(":contains([map-hide])",s).last().empty().addClass("g-map-hide").html(J.iGuider.opt.lang.hideText),J.iGuider.v.hToggle=J(":contains([map-toggle])",s).last().empty().addClass("g-map-toggle"),J.iGuider.opt.startStep=parseFloat(J.iGuider.opt.startStep),J.iGuider.opt.startStep<1&&(J.iGuider.opt.startStep=1),J.iGuider.v.progressFunc=function(e){if(void 0!==J.iGuider.opt.progress)try{new Function("return "+J.iGuider.opt.progress)()({step:e,steps:J.iGuider.opt.steps.length})}catch(e){J.iGuider.v.debug((new Error).lineNumber+" The callback function specified is not correct.")}},J.iGuider.v.beforeFunc=function(){if(void 0!==J.iGuider.opt.steps[J.iGuider.v.startIndex].before)try{new Function("return "+J.iGuider.opt.steps[J.iGuider.v.startIndex].before)()(J.iGuider.v.targetEl)}catch(e){J.iGuider.v.debug((new Error).lineNumber+" The callback function specified is not correct.")}},J.iGuider.v.after_beforeFunc=function(){J.iGuider.v.targetEl.addClass("iGuider-highlight"),J.iGuider.v.progressFunc(iGuider("getStep"))},J.iGuider.v.duringFunc=function(){if(void 0!==J.iGuider.opt.steps[J.iGuider.v.startIndex].during)try{new Function("return "+J.iGuider.opt.steps[J.iGuider.v.startIndex].during)()(J.iGuider.v.targetEl)}catch(e){J.iGuider.v.debug((new Error).lineNumber+" The callback function specified is not correct.")}},J.iGuider.v.afterFunc=function(){if(void 0!==J.iGuider.opt.steps[J.iGuider.v.startIndex].after)try{new Function("return "+J.iGuider.opt.steps[J.iGuider.v.startIndex].after)()(J.iGuider.v.targetEl)}catch(e){J.iGuider.v.debug((new Error).lineNumber+" The callback function specified is not correct.")}},J.iGuider.v.after_afterFunc=function(){J(".iGuider-highlight").removeClass("iGuider-highlight")},J.iGuider.v.messageErrorId=function(){},J.iGuider.v.messageEventId=function(){},J.iGuider.v.messHide=function(){var e=J(".gErrorMessage");e.stop(!0).animate({opacity:0},function(){e.animate({height:0,padding:0},function(){e.remove()})})},J.iGuider.v.messEvHide=function(){var e=J(".gEventMessage");e.stop(!0).animate({opacity:0},function(){e.animate({height:0,padding:0},function(){e.remove()})})},J.iGuider.v.messageErrorHide=function(){clearTimeout(J.iGuider.v.messageErrorId),J.iGuider.v.messageErrorId=setTimeout(function(){J.iGuider.v.messHide()},3e3)},J.iGuider.v.messageEventHide=function(){clearTimeout(J.iGuider.v.messageEventId),J.iGuider.v.messageEventId=setTimeout(function(){J.iGuider.v.messEvHide()},3e3)};var R=function(){clearTimeout(J.iGuider.v.messageErrorId);var e=J.iGuider.opt.stepsDef[0].checkNext.messageError;J.iGuider.opt.steps[J.iGuider.v.startIndex].checkNext.messageError&&""!==J.trim(J.iGuider.opt.steps[J.iGuider.v.startIndex].checkNext.messageError)&&(e=J.iGuider.opt.steps[J.iGuider.v.startIndex].checkNext.messageError);var i=J("<div>").addClass("gErrorMessage").text(e);J(".gErrorMessage").remove(),J(".gFooter").after(i),J.iGuider.v.posCorrect(),J.iGuider.v.messageErrorHide()},D=function(e){var i=!0;if(J.iGuider.opt.steps[J.iGuider.v.startIndex].checkNext&&void 0!==J.iGuider.opt.steps[J.iGuider.v.startIndex].checkNext.func)try{i=new Function("return "+J.iGuider.opt.steps[J.iGuider.v.startIndex].checkNext.func)()(e)}catch(e){J.iGuider.v.debug((new Error).lineNumber+" The callback function specified is not correct.")}return i};J.iGuider.v.stopTimer=function(){clearTimeout(J.iGuider.v.stepTimerId),"line"==J.iGuider.opt.timerType&&J.iGuider.v.modalTimer.stop(!0).animate({width:0},300),"circle"==J.iGuider.opt.timerType&&J.iGuider.v.modalTimer.stop(!0).animate({bottom:"0%"},{duration:300,step:function(e,i){J.iGuider.v.progressCircleTimer(e)}})},J.iGuider.v.startTimer=function(e){clearTimeout(J.iGuider.v.stepTimerId),0<e?(J.iGuider.v.timeSave=e,J.iGuider.v.timerShow(),"play"==J.iGuider.v.timerState&&(J.iGuider.v.stepTimerId=setTimeout(function(){J.fn.iGuider("next",!0)},e),"line"==J.iGuider.opt.timerType&&J.iGuider.v.modalTimer.stop(!0).css({width:0}).show().animate({width:"100%"},e),"circle"==J.iGuider.opt.timerType&&(J.iGuider.v.progressCircleTimer(0),J.iGuider.v.modalTimer.stop(!0).css({bottom:"0%"}).show().animate({bottom:"100%"},{duration:e,step:function(e,i){J.iGuider.v.progressCircleTimer(e)}})))):(J.iGuider.v.timeSave=!1,J.iGuider.v.timerHide())},J(document).on("mouseenter.iGuider mousemove.iGuider",".gWidget, .g-shape, .iGuider-highlight",function(){J("html").removeClass("g-timer-progress-show").addClass("g-timer-progress-hide")}),J(document).on("mouseleave.iGuider",".gWidget, .g-shape, .iGuider-highlight",function(){J("html").removeClass("g-timer-progress-hide").addClass("g-timer-progress-show")}),J.iGuider.v.changeDelayId=function(){};var L=function(){J.iGuider.v.tourMapDetect(),J.iGuider.v.modalIntroHide(),J.iGuider.v.modalContinueHide(),clearTimeout(J.iGuider.v.stepTimerId),clearTimeout(J.iGuider.v.changeDelayId);var o=J.iGuider.v.tCanvas.tDuration;if(J.iGuider.goFlag&&(o=1,localStorage.removeItem("iGuider_go"),J.iGuider.goFlag=!1),J.iGuider.v.modalPosHide(0),J.iGuider.v.modalHeader.empty(),J.iGuider.v.modalBody.empty(),J.iGuider.opt.steps){"start"!=localStorage.getItem("iGuider_event")&&J.iGuider.v.start(),localStorage.setItem("iGuider_step",parseFloat(J.iGuider.v.startIndex)+1);var v=J.iGuider.opt.steps[J.iGuider.v.startIndex];if(v=J.iGuider.v.fixStepNumVal(v)){var d;if(J.iGuider.v.debug((new Error).lineNumber+" targetOpt.target: "+v.target),v.target)if(-1!=v.target.search(/<([^>]*)>/g)){J.iGuider.v.debug((new Error).lineNumber+" The target is HTML code");var e=J(v.target),i=e[0].tagName,r=e.attr(),t=[];for(var a in r)-1==r[a].search("function")&&t.push("["+a+'*="'+r[a]+'"]');d=i+t.join("")}else J(v.target).length||-1!=v.target.search("\\.")||-1!=v.target.search("#")||-1!=v.target.search("\\[")?(d=v.target,J.iGuider.v.debug((new Error).lineNumber+" The target is jQuery object")):(J.iGuider.v.debug((new Error).lineNumber+" The selector is data-target attribute"),d='[data-target="'+v.target+'"]');"center"!=v.position&&v.target||(d="body"),J.iGuider.v.debug((new Error).lineNumber+" targetElSelector: "+d),v.waitElementTime=v.waitElementTime||0,J.iGuider.v.targetElSave=J.iGuider.v.targetEl,J.iGuider.v.targetEl=J(d),J.iGuider.v.beforeFunc(),v.delayBefore=v.delayBefore||0,clearTimeout(J.iGuider.v.delayBeforeId),J.iGuider.v.delayBeforeId=setTimeout(function(){var i=function(){J.iGuider.v.after_beforeFunc();var e=J.iGuider.v.duration;if(J.iGuider.v.changeDelayId=setTimeout(function(){J.iGuider.v.selectCallback()},e),J.iGuider.v.targetEl.length)if(J.iGuider.v.targetEl.is(":visible")){!0!==J.iGuider.opt.tourMap.open&&"true"!==J.iGuider.opt.tourMap.open||J("html").addClass("g-map-open");var i=function(){J('[data-hindex="'+J.iGuider.v.startIndex+'"]').removeClass("g-el-absent"),J('[data-hindex="'+J.iGuider.v.startIndex+'"]').removeClass("hElHidden"),J("html").removeAttr("data-g-stepid"),J("html").removeAttr("data-g-step");var e=parseFloat(J.iGuider.v.startIndex)+1,i="step-"+e;v.stepID&&(i=v.stepID),J("html").attr("data-g-stepid",i),J("html").attr("data-g-step",e),0<=v.shape?J.iGuider.v.tCanvas.shape=v.shape:J.iGuider.v.tCanvas.shape=J.iGuider.v.tCanvas.def.shape,2==J.iGuider.v.tCanvas.shape&&(0<=v.shapeBorderRadius?J.iGuider.v.tCanvas.shapeBorderRadius=v.shapeBorderRadius:J.iGuider.v.tCanvas.shapeBorderRadius=J.iGuider.v.tCanvas.def.shapeBorderRadius),v.overlayColor?J.iGuider.v.tCanvas.tColor=J.iGuider.v.correctColor(v.overlayColor):J.iGuider.v.tCanvas.tColor=J.iGuider.v.correctColor(J.iGuider.v.tCanvas.def.tColor),0<=parseFloat(v.overlayOpacity)?J.iGuider.v.tCanvas.tOpacity=parseFloat(v.overlayOpacity):J.iGuider.v.tCanvas.tOpacity=J.iGuider.v.tCanvas.def.tOpacity,0<=parseFloat(v.spacing)?J.iGuider.v.tCanvas.tMargin=parseFloat(v.spacing):J.iGuider.v.tCanvas.tMargin=J.iGuider.v.tCanvas.def.tMargin,J.iGuider.v.tCanvas.tDuration=J.iGuider.v.duration,J.iGuider.v.searchEl(J.iGuider.v.targetEl);var r=v.title?v.title:"№"+(parseFloat(J.iGuider.v.startIndex)+1);if(J.iGuider.v.modalImage.empty(),v.cover&&""!==J.trim(v.cover)){var t=J("<img>").hide().attr("src",v.cover).on("load",function(){t.show()});t.appendTo(J.iGuider.v.modalImage),J.iGuider.v.coverShow()}else J.iGuider.v.modalImage.empty(),J.iGuider.v.coverHide();v.title?(J.iGuider.v.modalTitleShow(),J.iGuider.v.modalHeader.html(r)):(J.iGuider.v.modalHeader.html(""),J.iGuider.v.modalTitleHide()),""!=J.trim(v.content)?(J.iGuider.v.modalContShow(),J.iGuider.v.modalBody.html(v.content)):J.iGuider.v.modalContHide(),J.iGuider.v.overlayPos(J.iGuider.v.targetEl),J.iGuider.opt.steps[J.iGuider.v.startIndex].prevText||(J.iGuider.opt.steps[J.iGuider.v.startIndex].prevText=J.iGuider.opt.lang.prevTextDefault),J.iGuider.opt.steps[J.iGuider.v.startIndex].nextText||(J.iGuider.opt.steps[J.iGuider.v.startIndex].nextText=parseFloat(J.iGuider.v.startIndex)+1==J.iGuider.opt.steps.length?J.iGuider.opt.lang.endText:J.iGuider.opt.lang.nextTextDefault);var o=parseFloat(J.iGuider.v.startIndex)+1;J(J.iGuider.v.modalStepValue).each(function(){J(this).addClass("g-modal-step-value").html(o)}),J.iGuider.opt.pagination?(J.iGuider.v.modalStepShow(),J.iGuider.v.modalIntroHide(),J(".g-modal-type").hide().empty()):J.iGuider.v.modalStepHide(),J.iGuider.v.iGuider_data={},J.iGuider.v.iGuider_data=1<o?{tourId:J.iGuider.v.tourid,stepValue:o,page:location.href}:{tourId:!1,stepValue:o,page:location.href},localStorage.setItem("iGuider_data-"+J.iGuider.opt.tourID,JSON.stringify(J.iGuider.v.iGuider_data)),localStorage.setItem("iGuider_step",o);var d=parseFloat(J.iGuider.v.startIndex)-1;J.iGuider.opt.steps[d]?J.iGuider.v.modalPrevShow():J.iGuider.v.modalPrevHide(),J.iGuider.opt.steps[J.iGuider.v.startIndex]?J.iGuider.opt.steps[J.iGuider.v.startIndex].ready&&J.iGuider.v.modalNextShow():J.iGuider.v.modalNextHide(),J.iGuider.opt.steps[J.iGuider.v.startIndex].event||(J.iGuider.opt.steps[J.iGuider.v.startIndex].event="next"),J.iGuider.v.customEvent=!1,J.iGuider.v.customTarget=!1,"next"==J.iGuider.opt.steps[J.iGuider.v.startIndex].event?J.iGuider.v.modalNextShow():(J.iGuider.v.modalNextHide(),"object"==typeof J.iGuider.opt.steps[J.iGuider.v.startIndex].event&&(J.iGuider.v.customEvent=J.iGuider.opt.steps[J.iGuider.v.startIndex].event[0],J.iGuider.v.customTarget=J(J.iGuider.opt.steps[J.iGuider.v.startIndex].event[1])),"string"==typeof J.iGuider.opt.steps[J.iGuider.v.startIndex].event&&(J.iGuider.v.customEvent=J.iGuider.opt.steps[J.iGuider.v.startIndex].event,J.iGuider.v.customTarget=J.iGuider.v.targetEl),J.iGuider.v.customEvent?J.iGuider.v.customTarget?(J.iGuider.v.customTarget.attr("data-uid","h-"+f++),J.iGuider.v.customTargetSelector='[data-uid="'+J.iGuider.v.customTarget.attr("data-uid")+'"]',J.iGuider.v.customTargetSelector?(J.iGuider.opt.steps[J.iGuider.v.startIndex].checkNext&&!0===D(J(J.iGuider.v.customTargetSelector))&&(J.iGuider.v.modalNextShow(),m(J('[data-hindex="'+J.iGuider.v.startIndex+'"]')),v.ready=!0,J.iGuider.opt.steps[J.iGuider.v.startIndex].ready=!0),J.iGuider.v.eventFlag=!0,J(document).on(J.iGuider.v.customEvent+".iGuider",J.iGuider.v.customTargetSelector,function(e){if(!0!==D(J(J.iGuider.v.customTargetSelector)))return R(),!1;if(1==J.iGuider.v.eventFlag){J.iGuider.v.eventFlag=!1,J(".gErrorMessage").remove(),J(this).off(e),v.ready=!0,J.iGuider.opt.steps[J.iGuider.v.startIndex].ready=!0,m(J('[data-hindex="'+J.iGuider.v.startIndex+'"]')),J.iGuider.v.afterFunc(),v.delayAfter=v.delayAfter||0,J.iGuider.v.nowLoc=location.href;var i=J.iGuider.v.nowLoc;J.iGuider.v.nextIndex=parseFloat(J.iGuider.v.startIndex)+1,J.iGuider.v.nextIndex<J.iGuider.opt.steps.length&&(i=J.iGuider.opt.steps[J.iGuider.v.nextIndex].loc);var r={opt:J.iGuider.v.toStringObj(J.iGuider.opt)};localStorage.setItem("iGuider_opt",JSON.stringify(r)),localStorage.setItem("iGuider_step",parseFloat(J.iGuider.v.startIndex)+2),clearTimeout(J.iGuider.v.delayAfterId),J.iGuider.v.delayAfterId=setTimeout(function(){J.iGuider.v.after_afterFunc(),J.iGuider.v.eventFlag=!0,-1===J.iGuider.v.nowLoc.search(b(i))&&-1===i.search(b(J.iGuider.v.nowLoc))&&J.iGuider.v.nowLoc!==i?location.href=i:(J.iGuider.v.startIndex++,J.iGuider.v.debug((new Error).lineNumber+' Run "hStep" func - 2'),L())},v.delayAfter)}return!0})):console.log("Custom target don't have class and id attributes")):console.log("Custom target is absent"):console.log("Custom event is absent"));var a=J("[data-hindex]").removeClass("hCur").filter('[data-hindex="'+J.iGuider.v.startIndex+'"]').addClass("hCur"),u=parseFloat(J(".gMapContent").height()),n=parseFloat(a.outerHeight()),l=Math.floor(u/n/2);J(".gMapContent").stop(!0).animate({scrollTop:a.position().top+J(".gMapContent").scrollTop()-n*l}),J.iGuider.opt.steps[J.iGuider.v.startIndex].trigger&&!1!==J.iGuider.opt.steps[J.iGuider.v.startIndex].trigger&&"false"!=J.iGuider.opt.steps[J.iGuider.v.startIndex].trigger&&J.iGuider.v.targetEl.trigger(J.iGuider.opt.steps[J.iGuider.v.startIndex].trigger),J.iGuider.v.duringFunc(),J.iGuider.v.startTimer(parseFloat(v.timer));var s={opt:J.iGuider.v.toStringObj(J.iGuider.opt)};localStorage.setItem("iGuider_opt",JSON.stringify(s))};"center"!=v.position&&v.target?J.iGuider.v.targetEl.offset().top<J(window).scrollTop()?(J.iGuider.v.scrolling=!0,J.iGuider.v.scrollDoc.animate({scrollTop:J.iGuider.v.targetEl.offset().top-J(window).height()/2},o).promise().then(function(){J.iGuider.v.scrolling=!1,i()})):J.iGuider.v.targetEl.offset().top+J.iGuider.v.targetEl.outerHeight()>J(window).scrollTop()+J(window).height()?(J.iGuider.v.scrolling=!0,J.iGuider.v.scrollDoc.animate({scrollTop:J.iGuider.v.targetEl.offset().top-J(window).height()/2},o).promise().then(function(){J.iGuider.v.scrolling=!1,i()})):i():i()}else J.iGuider.v.debug((new Error).lineNumber+' Run "searchElement" func - 1'),M("hidden");else J.iGuider.v.debug((new Error).lineNumber+' Run "searchElement" func - 2'),M("absent")},r=function(){},t=function(){},e=function(){if(J(d).length){J.iGuider.v.debug((new Error).lineNumber+" $('"+d+"') is found!");var e=0;J(d).each(function(){J(this).is(":visible")&&e++}),e==J(d).length?(J.iGuider.v.debug((new Error).lineNumber+" $('"+d+"') is visible!"),clearInterval(t),clearTimeout(r),c(),J.iGuider.v.debug((new Error).lineNumber+' Run "stepFunc" func - 1'),J.iGuider.v.targetEl=J(d),i()):J.iGuider.v.debug((new Error).lineNumber+" $('"+d+"') is hidden")}else J.iGuider.v.debug((new Error).lineNumber+" $('"+d+"') is absent on the page")};0<v.waitElementTime?(J.iGuider.v.debug((new Error).lineNumber+" Waiting for item max: "+v.waitElementTime+"ms"),J.iGuider.v.createOverlayLayer(),J("html").addClass("g-preloader"),J.iGuider.v.debug((new Error).lineNumber+" Start the timer"),r=setTimeout(function(){clearInterval(t),clearTimeout(r),c(),J.iGuider.v.debug((new Error).lineNumber+" Time is up"),J.iGuider.v.debug((new Error).lineNumber+' Run "stepFunc" func - 2'),i()},v.waitElementTime),t=setInterval(function(){e()},500),e()):(J.iGuider.v.debug((new Error).lineNumber+' Run "stepFunc" func - 3'),i())},v.delayBefore)}else J.iGuider.v.startIndex--,J.iGuider.v.debug((new Error).lineNumber+" Empty object of parameters for current step and Destroy"),J.iGuider.v.end(),J.iGuider.v.finish(),J.fn.iGuider("destroy")}else console.log("step data is missing")},P=function(){setTimeout(function(){J.iGuider.v.startIndex=parseFloat(J.iGuider.opt.startStep)-1||0,J.iGuider.v.debug((new Error).lineNumber+' Run "hStep" func - 3'),L()},0)};J.iGuider.v.windowContinue=function(){if(clearTimeout(J.iGuider.v.storageDetectId),J.iGuider.v.modalImage.empty(),J.trim(J.iGuider.opt.continue.cover)){var e=J("<img>").hide().attr("src",J.iGuider.opt.continue.cover).addClass("hTourCover").on("load",function(){e.show()});e.appendTo(J.iGuider.v.modalImage),J.iGuider.v.coverShow()}else J.iGuider.v.modalImage.empty(),J.iGuider.v.coverHide();J.iGuider.opt.continue.title&&""!=J.iGuider.opt.continue.title?(J.iGuider.v.modalHeader.html(J.iGuider.opt.continue.title),J.iGuider.v.modalTitleShow()):J.iGuider.v.modalTitleHide(),J.iGuider.opt.continue.content&&""!=J.iGuider.opt.continue.content?(J.iGuider.v.modalBody.html(J.iGuider.opt.continue.content),J.iGuider.v.modalContShow()):J.iGuider.v.modalContHide(),J.iGuider.v.modalBeginFirst.html(J.iGuider.opt.lang.contDialogBtnBegin),J.iGuider.v.modalBeginContinue.html(J.iGuider.opt.lang.contDialogBtnContinue),J.iGuider.v.modalPos.css({left:"50%",top:"50%"}).attr({"data-pos":"c","data-cone":"c","data-cont":"c"});var i="",r=J.iGuider.opt.continue.width||J.iGuider.opt.width;r&&(i=-1!=(i=(i=r).toString()).search("%")||-1!=i.search("vw")?i.replace("%","vw"):parseFloat(i)),J.iGuider.v.modalSize.css({minWidth:i});var t=J.iGuider.opt.continue.bgColor||J.iGuider.opt.bgColor;t?J.iGuider.v.modalSize.css({background:t}):J.iGuider.v.modalSize.css({background:""});var o=J.iGuider.opt.continue.titleColor||J.iGuider.opt.titleColor;o?J.iGuider.v.modalHeader.css({color:o}):J.iGuider.v.modalHeader.css({color:""});var d=J.iGuider.opt.continue.modalContentColor||J.iGuider.opt.modalContentColor;d?J.iGuider.v.modalBody.css({color:d}):J.iGuider.v.modalBody.css({color:""});var a=J.iGuider.opt.continue.modalTypeColor||J.iGuider.opt.modalTypeColor;a?J.iGuider.v.modalType.css({color:a}):J.iGuider.v.modalType.css({color:""});var u=J.iGuider.opt.continue.btnColor||J.iGuider.opt.btnColor;u?(J("#btnColorStyle").remove(),J('<style id="btnColorStyle">').html(".g-modal-pos .gBtn {color:"+u+"}").appendTo("html")):J("#btnColorStyle").remove();var n=J.iGuider.opt.continue.btnHoverColor||J.iGuider.opt.btnHoverColor;if(n?(J("#btnHoverColorStyle").remove(),J('<style id="btnHoverColorStyle">').html(".g-modal-pos .gBtn:hover {color:"+n+"}").appendTo("html")):J("#btnHoverColorStyle").remove(),J.iGuider.v.debug((new Error).lineNumber+" posCorrect func - 2"),J.iGuider.v.posCorrect("c","c","c"),J.iGuider.v.tCanvas.tColor=J.iGuider.v.correctColor(J.iGuider.opt.continue.overlayColor),J.iGuider.v.tCanvas.tOpacity=J.iGuider.opt.continue.overlayOpacity,J.iGuider.v.tCanvas.saveColor=J.iGuider.v.tCanvas.tColor,J.iGuider.v.tCanvas.saveOpacity=J.iGuider.v.tCanvas.tOpacity,J.iGuider.v.createOverlayLayer(),J.iGuider.v.modalPrevHide(),J.iGuider.v.modalNextHide(),J.iGuider.v.modalStepHide(),J.iGuider.v.modalMapHide(),J.iGuider.v.modalPosShow(0),J.iGuider.v.modalIntroHide(),J.iGuider.v.modalContinueShow(),J.iGuider.v.timerHide(),J(".g-modal-type").html(J.iGuider.opt.lang.modalContinueType).show(),J.iGuider.v.iGuider_data){J.iGuider.v.stepValue=J.iGuider.v.iGuider_data.stepValue;var l=J.iGuider.v.iGuider_data.page;-1===J.iGuider.v.nowLoc.search(b(l))&&-1===l.search(b(J.iGuider.v.nowLoc))&&J.iGuider.v.nowLoc!==l?J.iGuider.v.otherPage=J.iGuider.v.iGuider_data.page:J.iGuider.v.otherPage=!1}},J.iGuider.v.storageDetectId=function(){};var A=function(){var e=0;J.iGuider.v.modalPos.is(":visible")&&(J.iGuider.v.modalPosHide(300),e=300),J.iGuider.goFlag&&(e=1),J.iGuider.v.storageDetectId=setTimeout(function(){var e;(J.iGuider.v.nowLoc=location.href,localStorage.getItem("iGuider_data-"+J.iGuider.opt.tourID))?(J.iGuider.v.iGuider_data=J.parseJSON(localStorage.getItem("iGuider_data-"+J.iGuider.opt.tourID)),J.iGuider.v.iGuider_data.tourId==J.iGuider.v.tourid?J.iGuider.goFlag?(J.iGuider.v.stepValue=J.iGuider.v.iGuider_data.stepValue,J.iGuider.opt.startStep=J.iGuider.v.stepValue,P()):J.iGuider.opt.continue.enable&&"1"!=localStorage.getItem("iGuider_restored")?J.iGuider.v.windowContinue():(J.iGuider.v.debug((new Error).lineNumber+" continue.enable: "+J.iGuider.opt.continue.enable),J.iGuider.v.debug((new Error).lineNumber+" iGuider_restored: "+localStorage.getItem("iGuider_restored")),"1"!=localStorage.getItem("iGuider_restored")?(J.iGuider.v.startStepVal=J.iGuider.opt.startStep,J.iGuider.v.stepVal=J.iGuider.opt.steps[J.iGuider.v.startStepVal-1],J.iGuider.v.targetLocVal=J.iGuider.v.stepVal.loc,-1===J.iGuider.v.nowLoc.search(b(J.iGuider.v.targetLocVal))&&-1===J.iGuider.v.targetLocVal.search(b(J.iGuider.v.nowLoc))&&J.iGuider.v.nowLoc!==J.iGuider.v.targetLocVal?(J.iGuider.v.debug((new Error).lineNumber+" $.iGuider.v.nowLoc: "+J.iGuider.v.nowLoc),J.iGuider.v.debug((new Error).lineNumber+" $.iGuider.v.targetLocVal: "+J.iGuider.v.targetLocVal),J.iGuider.v.iGuider_go={opt:J.iGuider.v.toStringObj(J.iGuider.opt)},localStorage.setItem("iGuider_go",JSON.stringify(J.iGuider.v.iGuider_go)),J.iGuider.v.iGuider_data={tourId:J.iGuider.v.tourid,stepValue:J.iGuider.opt.startStep},localStorage.setItem("iGuider_data-"+J.iGuider.opt.tourID,JSON.stringify(J.iGuider.v.iGuider_data)),J.iGuider.v.debug((new Error).lineNumber+" Redirect 8"),location.href=J.iGuider.v.targetLocVal):P()):P()):J.iGuider.opt.steps?J.iGuider.opt.steps.length?(e=J.iGuider.opt.steps[parseFloat(J.iGuider.opt.startStep)-1].loc||J.iGuider.v.nowLoc,J.iGuider.v.debug((new Error).lineNumber+" targetLoc: "+e),J.iGuider.v.debug((new Error).lineNumber+" $.iGuider.v.nowLoc: "+J.iGuider.v.nowLoc),-1===J.iGuider.v.nowLoc.search(b(e))&&-1===e.search(b(J.iGuider.v.nowLoc))&&J.iGuider.v.nowLoc!==e?(J.iGuider.v.iGuider_go={opt:J.iGuider.v.toStringObj(J.iGuider.opt)},localStorage.setItem("iGuider_go",JSON.stringify(J.iGuider.v.iGuider_go)),J.iGuider.v.iGuider_data={},localStorage.getItem("iGuider_data-"+J.iGuider.opt.tourID)&&(J.iGuider.v.iGuider_data=J.parseJSON(localStorage.getItem("iGuider_data-"+J.iGuider.opt.tourID))),J.extend(J.iGuider.v.iGuider_data,{tourId:J.iGuider.v.tourid,stepValue:J.iGuider.opt.startStep}),localStorage.setItem("iGuider_data-"+J.iGuider.opt.tourID,JSON.stringify(J.iGuider.v.iGuider_data)),J.iGuider.v.debug((new Error).lineNumber+" Redirect 1"),location.href=e):P()):J.iGuider.v.debug((new Error).lineNumber+" Steps array does not have abject items"):J.iGuider.v.debug((new Error).lineNumber+" Steps parameter is absent.")):(J.iGuider.v.startStepVal=J.iGuider.opt.startStep,J.iGuider.v.stepVal=J.iGuider.opt.steps[J.iGuider.v.startStepVal-1],J.iGuider.v.targetLocVal=J.iGuider.v.stepVal.loc,-1===J.iGuider.v.nowLoc.search(b(J.iGuider.v.targetLocVal))&&-1===J.iGuider.v.targetLocVal.search(b(J.iGuider.v.nowLoc))&&J.iGuider.v.nowLoc!==J.iGuider.v.targetLocVal?(J.iGuider.v.iGuider_go={opt:J.iGuider.v.toStringObj(J.iGuider.opt)},localStorage.setItem("iGuider_go",JSON.stringify(J.iGuider.v.iGuider_go)),J.iGuider.v.iGuider_data={tourId:J.iGuider.v.tourid,stepValue:J.iGuider.opt.startStep},localStorage.setItem("iGuider_data-"+J.iGuider.opt.tourID,JSON.stringify(J.iGuider.v.iGuider_data)),J.iGuider.v.debug((new Error).lineNumber+" Redirect 7"),location.href=J.iGuider.v.targetLocVal):P())},e)};J(document).on("click",".g-modal-start",function(){J.iGuider.v.design||A()}),J(document).on("click",".g-modal-begin-first",function(){if(!J.iGuider.v.design){J.iGuider.v.nowLoc=location.href;var e=J.iGuider.v.nowLoc;J.iGuider.v.nextIndex=parseFloat(J.iGuider.opt.startStep)-1,J.iGuider.v.nextIndex<J.iGuider.opt.steps.length&&0<=J.iGuider.v.nextIndex&&(e=J.iGuider.opt.steps[J.iGuider.v.nextIndex].loc),-1===J.iGuider.v.nowLoc.search(b(e))&&-1===e.search(b(J.iGuider.v.nowLoc))&&J.iGuider.v.nowLoc!==e?(J.iGuider.v.iGuider_go={opt:J.iGuider.v.toStringObj(J.iGuider.opt)},localStorage.setItem("iGuider_go",JSON.stringify(J.iGuider.v.iGuider_go)),J.iGuider.v.iGuider_data={},localStorage.getItem("iGuider_data-"+J.iGuider.opt.tourID)&&(J.iGuider.v.iGuider_data=J.parseJSON(localStorage.getItem("iGuider_data-"+J.iGuider.opt.tourID))),J.extend(J.iGuider.v.iGuider_data,{tourId:J.iGuider.v.tourid,stepValue:J.iGuider.opt.startStep}),localStorage.setItem("iGuider_data-"+J.iGuider.opt.tourID,JSON.stringify(J.iGuider.v.iGuider_data)),J.iGuider.v.debug((new Error).lineNumber+" Redirect 2"),location.href=e):P()}}),J(document).on("click",".g-modal-begin-continue",function(){if(!J.iGuider.v.design)if(J.iGuider.opt.startStep=J.iGuider.v.stepValue,J.iGuider.v.otherPage)J.iGuider.v.customTarget=J.iGuider.v.otherPage,J.iGuider.v.iGuider_go={opt:J.iGuider.v.toStringObj(J.iGuider.opt)},localStorage.setItem("iGuider_go",JSON.stringify(J.iGuider.v.iGuider_go)),J.iGuider.v.debug((new Error).lineNumber+" Redirect 3"),location.href=J.iGuider.v.customTarget;else{for(var e=J.iGuider.opt.startStep-1,i=0;i<J.iGuider.opt.steps.length&&i<e;i++)J.iGuider.opt.steps[i].ready=!0,m(J('[data-hindex="'+i+'"]'));P()}});var z=function(){if(!J("html").is(".g-preloader")){var e=J.iGuider.v.targetElSave;if(J.iGuider.v.targetEl&&(J.iGuider.v.targetEl.length&&J.iGuider.v.targetEl.is(":visible")&&(e=J.iGuider.v.targetEl),e&&e.length)){var i=J.iGuider.v.tCanvas.tColor,r=J.iGuider.v.hexToRGBCODE(i);J.iGuider.v.redrawOverlay(r[0],r[1],r[2],J.iGuider.v.tCanvas.tOpacity),J.iGuider.v.searchEl(e)}}};J(window).on("resize.iGuider",function(){J.iGuider&&(J.iGuider.v.scrolling||(J.iGuider.v.overlayPos(J.iGuider.v.targetEl),G&&(clearTimeout(d),d=setTimeout(function(){J.iGuider.v.setCanvasSize(),z()},200))))}),J(window).on("scroll.iGuider",function(){J.iGuider&&(J.iGuider.v.scrolling||(J.iGuider.v.overlayPos(J.iGuider.v.targetEl),G&&z()))});var V=!1;J.iGuider.v.nextStep=function(){if(J.iGuider.v.nextIndex=parseFloat(J.iGuider.v.startIndex)+1,!1===V&&J(J.iGuider.v.targetEl).length){V=!0,J.iGuider.v.nowLoc=location.href;var e=J.iGuider.v.nowLoc;J.iGuider.v.nextIndex=parseFloat(J.iGuider.v.startIndex)+1,J.iGuider.v.nextIndex<J.iGuider.opt.steps.length&&(e=J.iGuider.opt.steps[J.iGuider.v.nextIndex].loc),J.iGuider.v.targetEl.off(J.iGuider.opt.steps[J.iGuider.v.startIndex].event+".iGuider"),J.iGuider.v.customTargetSelector&&J(J.iGuider.v.customTargetSelector).off(J.iGuider.v.customEvent+".iGuider"),"next"==J.iGuider.opt.steps[J.iGuider.v.startIndex].event&&(J.iGuider.opt.steps[J.iGuider.v.startIndex].ready=!0,m(J('[data-hindex="'+J.iGuider.v.startIndex+'"]'))),J.iGuider.v.afterFunc(),J.iGuider.opt.steps[J.iGuider.v.startIndex].delayAfter=J.iGuider.opt.steps[J.iGuider.v.startIndex].delayAfter||0,clearTimeout(J.iGuider.v.delayAfterId),J.iGuider.v.delayAfterId=setTimeout(function(){J.iGuider.v.after_afterFunc(),setTimeout(function(){V=!1},500),-1===J.iGuider.v.nowLoc.search(b(e))&&-1===e.search(b(J.iGuider.v.nowLoc))&&J.iGuider.v.nowLoc!==e?(J.iGuider.v.iGuider_go={opt:J.iGuider.v.toStringObj(J.iGuider.opt)},localStorage.setItem("iGuider_go",JSON.stringify(J.iGuider.v.iGuider_go)),J.iGuider.v.iGuider_data={},localStorage.getItem("iGuider_data-"+J.iGuider.opt.tourID)&&(J.iGuider.v.iGuider_data=J.parseJSON(localStorage.getItem("iGuider_data-"+J.iGuider.opt.tourID))),J.extend(J.iGuider.v.iGuider_data,{tourId:J.iGuider.v.tourid,stepValue:parseFloat(J.iGuider.v.iGuider_data.stepValue)+1}),localStorage.setItem("iGuider_data-"+J.iGuider.opt.tourID,JSON.stringify(J.iGuider.v.iGuider_data)),J.iGuider.v.debug((new Error).lineNumber+" Redirect 4"),location.href=e):(J.iGuider.v.startIndex++,J.iGuider.v.event="next",J.iGuider.v.debug((new Error).lineNumber+' Run "hStep" func - 4'),L())},J.iGuider.opt.steps[J.iGuider.v.startIndex].delayAfter)}},J(document).on("click",".g-modal-next",function(){J.iGuider.v.design||(!0===D(J(J.iGuider.v.targetEl))?(J(".gErrorMessage").remove(),localStorage.setItem("iGuider_step",parseFloat(J.iGuider.v.startIndex)+2),J.iGuider.v.nextStep()):R())});var W=!1;J.iGuider.v.prevStep=function(){J.iGuider.v.nextIndex=parseFloat(J.iGuider.v.startIndex)-1,0<=J.iGuider.v.nextIndex?!1===W&&J(J.iGuider.v.targetEl).length&&(W=!0,J.iGuider.v.targetEl.off(J.iGuider.opt.steps[J.iGuider.v.startIndex].event+".iGuider"),J.iGuider.v.customTargetSelector&&J(J.iGuider.v.customTargetSelector).off(J.iGuider.v.customEvent+".iGuider"),"prev"==J.iGuider.opt.steps[J.iGuider.v.startIndex].event&&(J.iGuider.opt.steps[J.iGuider.v.startIndex].ready=!0,m(J('[data-hindex="'+J.iGuider.v.startIndex+'"]'))),clearTimeout(J.iGuider.v.delayAfterId),J.iGuider.v.afterFunc(),J.iGuider.opt.steps[J.iGuider.v.startIndex].delayAfter=J.iGuider.opt.steps[J.iGuider.v.startIndex].delayAfter||0,J.iGuider.v.delayAfterId=setTimeout(function(){J.iGuider.v.after_afterFunc(),J.iGuider.v.nowLoc=location.href;var e=J.iGuider.opt.steps[J.iGuider.v.nextIndex].loc;-1===J.iGuider.v.nowLoc.search(b(e))&&-1===e.search(b(J.iGuider.v.nowLoc))&&J.iGuider.v.nowLoc!==e?(J.iGuider.v.iGuider_go={opt:J.iGuider.v.toStringObj(J.iGuider.opt)},localStorage.setItem("iGuider_go",JSON.stringify(J.iGuider.v.iGuider_go)),J.iGuider.v.iGuider_data={},localStorage.getItem("iGuider_data-"+J.iGuider.opt.tourID)&&(J.iGuider.v.iGuider_data=J.parseJSON(localStorage.getItem("iGuider_data-"+J.iGuider.opt.tourID))),J.extend(J.iGuider.v.iGuider_data,{tourId:J.iGuider.v.tourid,stepValue:parseFloat(J.iGuider.v.iGuider_data.stepValue)-1}),localStorage.setItem("iGuider_data-"+J.iGuider.opt.tourID,JSON.stringify(J.iGuider.v.iGuider_data)),J.iGuider.v.debug((new Error).lineNumber+" Redirect 5"),location.href=e):(J.iGuider.v.startIndex--,J.iGuider.v.event="prev",J.iGuider.v.debug((new Error).lineNumber+' Run "hStep" func - 5'),L())},J.iGuider.opt.steps[J.iGuider.v.startIndex].delayAfter),setTimeout(function(){W=!1},500)):J.iGuider.v.debug((new Error).lineNumber+" No previous steps")},J(document).on("click",".g-modal-prev",function(){J.iGuider.v.design||(!0===function(e){var i=!0;if(J.iGuider.opt.steps[J.iGuider.v.startIndex].checkPrev&&void 0!==J.iGuider.opt.steps[J.iGuider.v.startIndex].checkPrev.func)try{i=new Function("return "+J.iGuider.opt.steps[J.iGuider.v.startIndex].checkPrev.func)()(e)}catch(e){J.iGuider.v.debug((new Error).lineNumber+" The callback function specified is not correct.")}return i}(J(J.iGuider.v.targetEl))?(localStorage.setItem("iGuider_step",J.iGuider.v.startIndex),J.iGuider.v.prevStep()):function(){var e=J.iGuider.opt.stepsDef[0].checkPrev.messageError;J.iGuider.opt.steps[J.iGuider.v.startIndex].checkPrev.messageError&&""!==J.trim(J.iGuider.opt.steps[J.iGuider.v.startIndex].checkPrev.messageError)&&(e=J.iGuider.opt.steps[J.iGuider.v.startIndex].checkPrev.messageError);var i=J("<div>").addClass("gErrorMessage").text(e);J(".gErrorMessage").remove(),J(".gFooter").after(i),setTimeout(function(){i.stop(!0).animate({opacity:0},function(){i.animate({height:0,padding:0},function(){i.remove()})})},3e3)}())}),J(document).on("click",".g-modal-close",function(){J.iGuider.v.design||(J.iGuider.v.end(),J.iGuider.v.abort(),J.iGuider.v.debug((new Error).lineNumber+" Click Close and Destroy"),J.fn.iGuider("destroy"))}),J.iGuider.v.setStep=function(e){if(e<J.iGuider.opt.steps.length){clearTimeout(J.iGuider.v.storageDetectId),J.iGuider.v.nowLoc=location.href;var i=J.iGuider.opt.steps[e].loc;J.iGuider.v.startIndex||0==parseFloat(J.iGuider.v.startIndex)||(J.iGuider.v.startIndex=999),parseFloat(J.iGuider.v.startIndex)!==parseFloat(e)&&("next"!=J.iGuider.opt.steps[J.iGuider.v.startIndex].event||J.iGuider.opt.steps[J.iGuider.v.startIndex].checkNext||(J.iGuider.opt.steps[J.iGuider.v.startIndex].ready=!0,m(J('[data-hindex="'+J.iGuider.v.startIndex+'"]'))),clearTimeout(J.iGuider.v.delayAfterId),J.iGuider.v.afterFunc(),J.iGuider.opt.steps[J.iGuider.v.startIndex].delayAfter=J.iGuider.opt.steps[J.iGuider.v.startIndex].delayAfter||0,J.iGuider.v.delayAfterId=setTimeout(function(){J.iGuider.v.after_afterFunc(),J.iGuider.v.startIndex=e,-1===J.iGuider.v.nowLoc.search(b(i))&&-1===i.search(b(J.iGuider.v.nowLoc))&&J.iGuider.v.nowLoc!==i?(J.iGuider.v.iGuider_go={opt:J.iGuider.v.toStringObj(J.iGuider.opt)},localStorage.setItem("iGuider_go",JSON.stringify(J.iGuider.v.iGuider_go)),J.iGuider.v.iGuider_data={},localStorage.getItem("iGuider_data-"+J.iGuider.opt.tourID)&&(J.iGuider.v.iGuider_data=J.parseJSON(localStorage.getItem("iGuider_data-"+J.iGuider.opt.tourID))),J.extend(J.iGuider.v.iGuider_data,{tourId:J.iGuider.v.tourid,stepValue:parseFloat(e)+1}),localStorage.setItem("iGuider_data-"+J.iGuider.opt.tourID,JSON.stringify(J.iGuider.v.iGuider_data)),localStorage.setItem("iGuider_step",parseFloat(e)+1),J.iGuider.v.debug((new Error).lineNumber+" Redirect 6"),location.href=i):(localStorage.setItem("iGuider_step",parseFloat(e)+1),J.iGuider.v.targetEl&&J.iGuider.v.targetEl.off(J.iGuider.opt.steps[J.iGuider.v.startIndex].event+".iGuider"),J.iGuider.v.customTargetSelector&&J(J.iGuider.v.customTargetSelector).off(J.iGuider.v.customEvent+".iGuider"),J.iGuider.v.debug((new Error).lineNumber+' Run "hStep" func - 6'),L())},J.iGuider.opt.steps[J.iGuider.v.startIndex].delayAfter))}else J.iGuider.v.debug((new Error).lineNumber+" Attention: Invalid step number")},J.iGuider.opt.tourMap.clickable?(1!=J.iGuider.opt.tourMap.clickable&&"true"!=J.iGuider.opt.tourMap.clickable||J(document).on("click","[data-hindex]",function(){if(!J("html").is(".g-preloader")){var e=J(this).attr("data-hindex");J.iGuider.v.setStep(e)}}),"ready"==J.iGuider.opt.tourMap.clickable&&J(document).on("click","[data-hindex]",function(){if(!J("html").is(".g-preloader")){var e=J(this);if(e.is(".g-step-success")||e.prev().is(".g-step-success")){var i=e.attr("data-hindex");J.iGuider.v.setStep(i)}}})):J("html").addClass("g-map-no-clickable"),J.iGuider.opt.overlayClickable&&J(document).on(J.iGuider.v.clickEvent+".iGuider",function(e){if(J.iGuider&&!J.iGuider.v.design){if(x)return!1;J(e.target).is("html")&&(J.iGuider.v.end(),J.iGuider.v.abort(),J.iGuider.v.debug((new Error).lineNumber+' Click "overlay" (HTML) and Destroy'),J.fn.iGuider("destroy"))}}),J.iGuider.v.modalMap.on("click",function(){J("html").is(".g-map-open")?(J("html").removeClass("g-map-open"),J.iGuider.opt.tourMap.open=!1):(J("html").addClass("g-map-open"),J.iGuider.opt.tourMap.open=!0)}),J.iGuider.v.hHide.on("click",function(){J("html").is(".g-map-open")?(J("html").removeClass("g-map-open"),J.iGuider.opt.tourMap.open=!1):(J("html").addClass("g-map-open"),J.iGuider.opt.tourMap.open=!0)}),J.iGuider.v.hToggle.on("click",function(){iGuider("map","toggle")});var j=function(e){if(e!=J.iGuider.v.indexActive){J.iGuider.v.indexActive=e;var i=J.iGuider.v.modalData[e];J.iGuider.v.modalPos.css({left:i.left,top:i.top}).attr({"data-pos":i.dataPos,"data-cone":i.dataCone,"data-cont":i.dataCont}),J.iGuider.v.debug((new Error).lineNumber+" posCorrect func - 3"),J.iGuider.v.posCorrect(i.dataPos,i.dataCone,i.dataCont),J.iGuider.v.modalPosShow(0)}};J(document).on("mouseenter.iGuider",".iGuider-highlight",function(){if(1<J(".iGuider-highlight").length){var e=J(this),i=J(".iGuider-highlight").index(e);j(i)}}),J(document).on("mouseenter.iGuider",".g-shape",function(){if(1<J(".g-shape").length){var e=J(this),i=J(".g-shape").index(e);j(i)}}),J(document).on("mouseenter",".gErrorMessage",function(){clearTimeout(J.iGuider.v.messageErrorId)}).on("mouseleave",".gErrorMessage",function(){J.iGuider.v.messageErrorHide()}),J(document).on("mouseenter",".gEventMessage",function(){clearTimeout(J.iGuider.v.messageEventId)}).on("mouseleave",".gEventMessage",function(){J.iGuider.v.messageEventHide()}),J(document).on("click",".g-timer-controll",function(){return"pause"==J.iGuider.v.timerState?J.fn.iGuider("timerState","play"):J.fn.iGuider("timerState","pause"),!1});J.iGuider.v.timerStateDefault=function(){J.fn.iGuider("timerState","play")},localStorage.getItem("iGuider_timer")?J.fn.iGuider("timerState",localStorage.getItem("iGuider_timer")):J.iGuider.v.timerStateDefault(),J.iGuider.v.windowIntro=function(){if(J.iGuider.v.debug((new Error).lineNumber+" Start generate intro window"),clearTimeout(J.iGuider.v.storageDetectId),J.iGuider.v.debug((new Error).lineNumber+" Start intro content installation"),J.iGuider.v.modalImage.empty(),J.trim(J.iGuider.opt.intro.cover)){var e=J("<img>").hide().attr("src",J.iGuider.opt.intro.cover).addClass("hTourCover").on("load",function(){e.show()});e.appendTo(J.iGuider.v.modalImage),J.iGuider.v.coverShow()}else J.iGuider.v.modalImage.empty(),J.iGuider.v.coverHide();J.iGuider.opt.intro.title&&""!=J.iGuider.opt.intro.title?(J.iGuider.v.modalHeader.html(J.iGuider.opt.intro.title),J.iGuider.v.modalTitleShow()):J.iGuider.v.modalTitleHide(),J.iGuider.opt.intro.content&&""!=J.iGuider.opt.intro.content?(J.iGuider.v.modalBody.html(J.iGuider.opt.intro.content),J.iGuider.v.modalContShow()):J.iGuider.v.modalContHide(),J.iGuider.v.modalCloseIntro.html(J.iGuider.opt.lang.introDialogBtnCancel),J.iGuider.v.modalStart.html(J.iGuider.opt.lang.introDialogBtnStart),J.iGuider.v.debug((new Error).lineNumber+" Start intro width installation");var i="",r=J.iGuider.opt.intro.width||J.iGuider.opt.width;r&&(i=-1!=(i=(i=r).toString()).search("%")||-1!=i.search("vw")?i.replace("%","vw"):parseFloat(i)),J.iGuider.v.modalSize.css({minWidth:i}),J.iGuider.v.debug((new Error).lineNumber+" Start intro style installation");var t=J.iGuider.opt.intro.bgColor||J.iGuider.opt.bgColor;t?J.iGuider.v.modalSize.css({background:t}):J.iGuider.v.modalSize.css({background:""});var o=J.iGuider.opt.intro.titleColor||J.iGuider.opt.titleColor;o?J.iGuider.v.modalHeader.css({color:o}):J.iGuider.v.modalHeader.css({color:""});var d=J.iGuider.opt.intro.modalContentColor||J.iGuider.opt.modalContentColor;d?J.iGuider.v.modalBody.css({color:d}):J.iGuider.v.modalBody.css({color:""});var a=J.iGuider.opt.intro.modalTypeColor||J.iGuider.opt.modalTypeColor;a?J.iGuider.v.modalType.css({color:a}):J.iGuider.v.modalType.css({color:""});var u=J.iGuider.opt.intro.btnColor||J.iGuider.opt.btnColor;u?(J("#btnColorStyle").remove(),J('<style id="btnColorStyle">').html(".g-modal-pos .gBtn {color:"+u+"}").appendTo("html")):J("#btnColorStyle").remove();var n=J.iGuider.opt.intro.btnHoverColor||J.iGuider.opt.btnHoverColor;n?(J("#btnHoverColorStyle").remove(),J('<style id="btnHoverColorStyle">').html(".g-modal-pos .gBtn:hover {color:"+n+"}").appendTo("html")):J("#btnHoverColorStyle").remove(),J.iGuider.v.debug((new Error).lineNumber+" Start intro position installation"),J.iGuider.v.modalPos.css({left:"50%",top:"50%"}).attr({"data-pos":"c","data-cone":"c","data-cont":"c"}),J.iGuider.v.debug((new Error).lineNumber+" posCorrect func - 4"),J.iGuider.v.posCorrect("c","c","c"),J.iGuider.v.debug((new Error).lineNumber+" Start intro overlay installation"),J.iGuider.v.tCanvas.tColor=J.iGuider.v.correctColor(J.iGuider.opt.intro.overlayColor),J.iGuider.v.tCanvas.tOpacity=J.iGuider.opt.intro.overlayOpacity,J.iGuider.v.tCanvas.saveColor=J.iGuider.v.tCanvas.tColor,J.iGuider.v.tCanvas.saveOpacity=J.iGuider.v.tCanvas.tOpacity,J.iGuider.v.createOverlayLayer(),J.iGuider.v.debug((new Error).lineNumber+" Start intro block display installation"),J.iGuider.v.modalPrevHide(),J.iGuider.v.modalNextHide(),J.iGuider.v.modalStepHide(),J.iGuider.v.modalPosShow(0),J.iGuider.v.modalMapHide(),J.iGuider.v.modalContinueHide(),J.iGuider.v.modalIntroShow(),J.iGuider.v.timerHide(),J(".g-modal-type").html(J.iGuider.opt.lang.modalIntroType).show(),J.iGuider.opt.steps?J.iGuider.opt.steps.length?(J.iGuider.v.modalStartShow(),J.iGuider.v.debug((new Error).lineNumber+" Run Steps")):(J.iGuider.v.debug((new Error).lineNumber+' Parameter "steps" is empty.'),J.iGuider.v.modalStartHide()):(J.iGuider.v.debug((new Error).lineNumber+' Parameter "steps" is not set.'),J.iGuider.v.modalStartHide())},0===J.iGuider.opt.steps.length?(J.iGuider.v.debug((new Error).lineNumber+" Mess: All target elements is absent."),J.iGuider.v.debug((new Error).lineNumber+' Council: Check the "Steps" parameter.'),J.fn.iGuider("destroy")):J.iGuider.opt.intro&&(J.iGuider.opt.intro.enable&&"start"!=localStorage.getItem("iGuider_event")?J.iGuider.goFlag?A():J.iGuider.v.windowIntro():A()),J.iGuider.v.clearData=function(e){J.iGuider.v.design=e,localStorage.removeItem("iGuider_event"),localStorage.removeItem("iGuider_restored"),localStorage.removeItem("iGuider_opt"),localStorage.removeItem("iGuider_step"),localStorage.removeItem("iGuider_go"),localStorage.removeItem("iGuider_timer"),localStorage.removeItem("iGuider_data-"+J.iGuider.opt.tourID)},J.iGuider.v.create()}},timerState:function(e){J.iGuider&&J.iGuider.v&&("pause"==e&&"pause"!==J.iGuider.v.timerState&&(J.iGuider.v.timerState="pause",localStorage.setItem("iGuider_timer","pause"),J.iGuider.v.modalTimerControll.removeClass("g-timer-pause").addClass("g-timer-play"),J("html").removeClass("g-state-play").addClass("g-state-pause"),J.iGuider.v.stopTimer(),J.iGuider.v.pause()),"play"==e&&"play"!==J.iGuider.v.timerState&&(J.iGuider.v.timerState="play",localStorage.setItem("iGuider_timer","play"),J.iGuider.v.modalTimerControll.removeClass("g-timer-play").addClass("g-timer-pause"),J("html").removeClass("g-state-pause").addClass("g-state-play"),J.iGuider.v.timeSave&&J.iGuider.v.startTimer(J.iGuider.v.timeSave),J.iGuider.v.play()))},getStep:function(){return localStorage.getItem("iGuider_step")||!1},setStep:function(e){if(J.iGuider&&J.iGuider.opt){var i=parseFloat(e);J.iGuider.v.setStep(i-1)}},prev:function(){J.iGuider&&J.iGuider.opt&&0<parseFloat(J.iGuider.v.startIndex)&&J("html").is(".g-modal-prev-show")&&J.iGuider.v.modalPrev.trigger("click")},next:function(e){if(J.iGuider&&J.iGuider.opt&&(parseFloat(J.iGuider.v.startIndex)+1<J.iGuider.opt.steps.length||e))if(J("html").is(".g-modal-next-show"))J.iGuider.v.modalNext.trigger("click");else if(J.iGuider.opt.steps[J.iGuider.v.startIndex].keyboardEvent){var i=J.iGuider.opt.steps[J.iGuider.v.startIndex].event;"string"==typeof i&&J.iGuider.v.targetEl.trigger(i),"object"==typeof i&&J(i[1]).trigger(i[0])}else{var r=J("<div>").addClass("gEventMessage").text(J.iGuider.opt.steps[J.iGuider.v.startIndex].eventMessage||J.iGuider.opt.stepsDef[0].eventMessage);J(".gEventMessage").remove(),J(".gFooter").after(r),J.iGuider.v.posCorrect(),J.iGuider.v.messageEventHide()}},update:function(){J.iGuider&&J.iGuider.opt&&J(window).trigger("scroll.iGuider")},map:function(e){if(J.iGuider&&J.iGuider.opt){"toggle"==e&&(e=J(".g-map-pos-right").length?"left":"right"),J.iGuider.opt.tourMap.position=e,J(".g-map-pos-left, .g-map-pos-right").removeClass("g-map-pos-left g-map-pos-right"),J(".g-map-pos").addClass("g-map-pos-"+e);var i={opt:J.iGuider.v.toStringObj(J.iGuider.opt)};localStorage.setItem("iGuider_opt",JSON.stringify(i))}},design:function(e){return!(!J.iGuider||!J.iGuider.opt)&&(e==parseFloat(e)&&(e=parseFloat(e)),"intro"==e&&(J.iGuider.v.clearData(e),J.iGuider.v.windowIntro()),"continue"==e&&(J.iGuider.v.clearData(e),J.iGuider.v.windowContinue()),"number"==typeof e&&e-1<J.iGuider.opt.steps.length&&(J.iGuider.v.clearData(e),iGuider("setStep",e)),!!J.iGuider.v.design&&void 0)},button:function(r){if("object"==typeof r)if(J.iGuiderItemAdd=function(e,i){var r=J("<div>").addClass("tourlist-item").attr("id",i).appendTo(".iguider-btnCont").animate({opacity:1},300);e.tourTitle&&J("<div>").addClass("tourlist-item-title").html(e.tourTitle).appendTo(r),e.tourSubtitle&&J("<div>").addClass("tourlist-item-subtitle").html(e.tourSubtitle).appendTo(r)},J.iGuiderBtnAdd=function(){J(document).off("click",".iguider-btn"),J(".iguider-btn").remove(),J("<div>").addClass("iguider-btn").html('<div class="iguider-btn-shape"><span class="iguider-btn-icon" style="color:#fff"></span></div><div class="iguider-btnCont"></div>').appendTo("body")},Array.isArray(r))if(0<r.length)if(1<r.length){J(document).off("click.iguiderbtn"),J(document).off("click",".tourlist-item"),J.iGuiderBtnAdd(),J(".iguider-btnCont").empty();for(var e=0;e<r.length;e++){var i=r[e];J.iGuiderItemAdd(i,e)}J(document).on("click",".iguider-btn",function(){return J("html").toggleClass("g-tour-list-show"),!1}),J(document).on("click.iguiderbtn",function(e){J(e.target).is(".iguider-btn")||J(".iguider-btn").find(e.target).length||J("html").removeClass("g-tour-list-show")}),J(document).on("click",".tourlist-item",function(){var e=J(this),i=parseFloat(e.attr("id"));return iGuider(r[i]),!1})}else J.iGuiderBtnAdd(),J(document).on("click",".iguider-btn",function(){iGuider(r[0])});else console.log("Options array is empty");else J.iGuiderBtnAdd(),J(document).on("click",".iguider-btn",function(){iGuider(r)});else console.log("Parameters passed in wrong format")},set:function(e){if(J.iGuiderSet||(J.iGuiderSet={}),"object"==typeof e)if(Array.isArray(e))if(0<e.length)for(var i=0;i<e.length;i++){var r=e[i],t=r.tourID;t&&(J.iGuiderSet[t]=r)}else console.log("Options array is empty");else{var o=e.tourID;o&&(J.iGuiderSet[o]=e)}else console.log("Parameters passed in wrong format")},run:function(e){if(J.iGuiderSet){var i=J.iGuiderSet[e];i&&(iGuider("destroy"),iGuider(i))}else console.log("The parameter set is missing")},setTitle:function(e){J(".g-modal-header").html(e),J(".g-step-item.hCur .g-step-item-text").html(e)},setContent:function(e){J(".g-modal-body").html(e)},destroy:function(e){J.iGuider&&J.iGuider.opt?(clearTimeout(J.iGuider.v.storageDetectId),clearTimeout(J.iGuider.v.stepTimerId),clearTimeout(J.iGuider.v.messageErrorId),clearTimeout(J.iGuider.v.delayAfterId),clearTimeout(J.iGuider.v.delayBeforeId),clearTimeout(J.iGuider.v.changeDelayId),J.iGuider.v.modalPos.stop(!0),J.iGuider.v.modalTimer.stop(!0),J.iGuider.v.scrollDoc.stop(!0),localStorage.removeItem("iGuider_event"),localStorage.removeItem("iGuider_restored"),localStorage.removeItem("iGuider_opt"),localStorage.removeItem("iGuider_step"),localStorage.removeItem("iGuider_go"),localStorage.removeItem("iGuider_timer"),J("#timerColorStyle").remove(),J("#btnColorStyle").remove(),J("#btnHoverColorStyle").remove(),J("#listBtnColorStyle").remove(),J("#listBtnHoverColorStyle").remove(),J("#itemNumColorStyle").remove(),J("#itemColorStyle").remove(),J("#itemHoverColorStyle").remove(),J("#itemActiveColorStyle").remove(),J("#itemActiveBgStyle").remove(),J("#checkColorStyle").remove(),J("#checkReadyColorStyle").remove(),J("#paginationColorStyle").remove(),J.iGuider.goFlag=!1,J.iGuider.v.timeSave=!1,J(".iGuider-highlight").removeClass("iGuider-highlight"),J("html").removeAttr("data-g-stepid"),J("html").removeAttr("data-g-step"),J("html").removeClass("g-map-open"),J("html").removeClass("hNav-disable"),J("html").removeClass("g-map-no-clickable"),J("html").removeClass("g-modal-step-num-show"),J("html").removeClass("g-modal-step-num-hide"),J("html").removeClass("g-modal-prev-show"),J("html").removeClass("g-modal-prev-hide"),J("html").removeClass("g-modal-next-show"),J("html").removeClass("g-modal-next-hide"),J("html").removeClass("g-modal-timer-line"),J("html").removeClass("g-modal-timer-circle"),J("html").removeClass("g-modal-close-show"),J("html").removeClass("g-modal-close-hide"),J("html").removeClass("g-state-play"),J("html").removeClass("g-state-pause"),J("html").removeClass("g-modal-title-show"),J("html").removeClass("g-modal-title-hide"),J("html").removeClass("g-modal-cont-show"),J("html").removeClass("g-modal-cont-hide"),J("html").removeClass("g-modal-continue-show"),J("html").removeClass("g-modal-continue-hide"),J("html").removeClass("g-timer-hide"),J("html").removeClass("g-timer-show"),J("html").removeClass("g-modal-map-show"),J("html").removeClass("g-modal-map-hide"),J("html").removeClass("g-modal-intro-show"),J("html").removeClass("g-modal-intro-hide"),J("html").removeClass("g-modal-cover-show"),J("html").removeClass("g-modal-cover-hide"),J("html").removeClass("g-modal-step-show"),J("html").removeClass("g-modal-step-hide"),J("html").removeClass("g-timer-progress-show"),J("html").removeClass("g-timer-progress-hide"),J("[data-uid]").removeAttr("data-uid"),J(J.iGuider.v.gLoader).remove(),J(J.iGuider.v.modalPos).remove(),J(J.iGuider.v.overlays).remove(),J(J.iGuider.v.gMapContent).remove(),J(J.iGuider.v.gMapPos).remove(),J(J.iGuider.v.introDialog).remove(),J("#g-overlay-wrap").remove(),J.iGuider.v.deleteOverlayLayer(),J(document).off("click",".g-timer-controll"),J(document).off("click",".g-modal-begin-first"),J(document).off("click",".g-modal-begin-continue"),J(document).off("click",".g-modal-next"),J(document).off("click",".g-modal-prev"),J(document).off("click",".g-modal-start"),J(document).off(J.iGuider.v.clickEvent+".iGuider"),J(document).off("mouseenter.iGuider",".iGuider-highlight"),J(document).off("mousemove.iGuider",".iGuider-highlight"),J(document).off("mouseenter.iGuider",".g-shape"),J(window).off("resize.iGuider"),J(window).off("scroll.iGuider"),J(document).off("mouseenter.iGuider",".gWidget, .g-shape, .iGuider-highlight"),J(document).off("mouseleave.iGuider",".gWidget, .g-shape, .iGuider-highlight"),J.iGuider.opt.steps[J.iGuider.v.startIndex]&&J.iGuider.v.targetEl&&J.iGuider.v.targetEl.off(J.iGuider.opt.steps[J.iGuider.v.startIndex].event+".iGuider"),J(document).off(J.iGuider.v.customEvent+".iGuider",J.iGuider.v.customTargetSelector),J.iGuider.v.customTargetSelector&&J(J.iGuider.v.customTargetSelector).off(J.iGuider.v.customEvent+".iGuider"),J(document).off("click",".g-modal-close"),J.iGuider.v.hHide.off("click"),J.iGuider.v.hToggle.off("click"),J(document).off("click",".hOverlay"),J(document).off("click","[data-hindex]"),J(document).off("keydown.iGuider"),J.iGuider.v.modalMap.off("click"),J.iGuider.v=null,e||(J.iGuider.opt.debug&&console.log("All plugin data is destroyed."),J.iGuider.opt=null,delete J.iGuider)):console.log("Warning! \nDetected call of method Destroy for an element that is not associated with plugin. Check the code!")}};J.fn.iGuider=function(e){if("undefined"!=typeof Storage){if(i[e])return i[e].apply(this,Array.prototype.slice.call(arguments,1));if("object"==typeof e||!e)return Array.isArray(e)?i.set.apply(this,arguments):i.init.apply(this,arguments);J.error("Method "+e+" in jQuery.iGuider doesn't exist")}else console.log("Sorry! No Web Storage support.")},iGuider=J.fn.iGuider,J(window).on("load",function(){J(document).on("click","[data-iguider]",function(){var e=J(this).attr("data-iguider");iGuider("run",e)});var e=function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")};if("undefined"!=typeof Storage){if(localStorage)if(localStorage.getItem("iGuider_go")){J.iGuider||(J.iGuider={}),J.iGuider.v||(J.iGuider.v={}),J.iGuider.goFlag=!0,J.iGuider.v.iGuider_go=J.parseJSON(localStorage.getItem("iGuider_go"));var i=J.iGuider.v.iGuider_go.opt;J.fn.iGuider(i)}else if("start"==localStorage.getItem("iGuider_event")&&localStorage.getItem("iGuider_opt")){console.log("Interrupted tour detected."),J.iGuider||(J.iGuider={});var r=J.parseJSON(localStorage.getItem("iGuider_opt")).opt;localStorage.setItem("iGuider_restored","1");var t=parseFloat(localStorage.getItem("iGuider_step")),o=J.extend(r,{startStep:t}),d=location.href,a=d;t-1<o.steps.length&&(a=o.steps[t-1].loc,o.debug&&(console.log("Recovery step title: "+o.steps[t-1].title),console.log("Recovery step loc: "+a))),a=a.split("?")[0],-1===d.search(e(a))&&-1===a.search(e(d))&&d!==a?(localStorage.setItem("iGuider_event","abort"),localStorage.setItem("iGuider_restored","0"),localStorage.removeItem("iGuider_opt"),localStorage.removeItem("iGuider_step")):J.fn.iGuider(o)}}else console.log("Sorry! No Web Storage support.")})}(jQuery);